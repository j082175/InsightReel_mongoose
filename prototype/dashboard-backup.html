<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜ìƒ ìˆ˜ì§‘ ëŒ€ì‹œë³´ë“œ - í”„ë¡œí† íƒ€ì…</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            color: #333;
        }

        .header {
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 1rem 2rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
        }

        .header h1 {
            color: #1976d2;
            font-size: 1.5rem;
        }

        .nav-tabs {
            margin-top: 1rem;
            display: flex;
            gap: 1rem;
        }

        .tab {
            padding: 0.5rem 1rem;
            border: none;
            background: #e3f2fd;
            border-radius: 20px;
            cursor: pointer;
            transition: background 0.1s;
            font-size: 0.9rem;
        }

        .tab.active {
            background: #1976d2;
            color: white;
        }

        .tab:hover {
            background: #1565c0;
            color: white;
        }

        .main-content {
            margin-top: 140px;
            padding: 2rem;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        .search-section {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .search-grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 1rem;
            align-items: end;
        }

        .search-input {
            padding: 0.75rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
        }

        .search-input:focus {
            outline: none;
            border-color: #1976d2;
        }

        .filter-select {
            padding: 0.75rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
        }

        .search-btn {
            padding: 0.75rem 1.5rem;
            background: #1976d2;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s;
        }

        .search-btn:hover {
            background: #1565c0;
        }

        .stats-bar {
            display: flex;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
            min-width: 120px;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #1976d2;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }

        .content-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .content-tab {
            padding: 1rem 2rem;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.1s;
        }

        .content-tab.active {
            border-color: #1976d2;
            background: #e3f2fd;
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .video-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .thumbnail-container {
            position: relative;
            width: 100%;
            height: 180px;
            overflow: hidden;
        }

        .thumbnail {
            width: 100%;
            height: 100%;
            object-fit: cover;
            loading: lazy;
            background: #f0f0f0;
        }
        
        .thumbnail-placeholder {
            width: 100%;
            height: 180px;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 14px;
        }

        .platform-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
            color: white;
        }

        .youtube { background: #ff0000; }
        .instagram { background: #e4405f; }
        .tiktok { background: #000000; }

        .video-info {
            padding: 1rem;
        }

        .video-title {
            font-size: 1rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .channel-info {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .channel-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }

        .channel-name {
            font-size: 0.9rem;
            color: #666;
        }

        .video-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .category-tag {
            padding: 4px 8px;
            background: #e3f2fd;
            color: #1976d2;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .date {
            font-size: 0.8rem;
            color: #999;
        }

        .keywords {
            margin-bottom: 1rem;
        }

        .keyword-tag {
            display: inline-block;
            padding: 2px 6px;
            background: #f5f5f5;
            border-radius: 8px;
            font-size: 0.7rem;
            margin-right: 0.5rem;
            margin-bottom: 0.25rem;
        }

        .video-actions {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #e0e0e0;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: background 0.1s;
        }

        .action-btn:hover {
            background: #f5f5f5;
        }

        .action-btn.primary {
            background: #1976d2;
            color: white;
            border-color: #1976d2;
        }

        .action-btn.primary:hover {
            background: #1565c0;
        }

        .channel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .channel-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .channel-card:hover {
            box-shadow: 0 6px 16px rgba(0,0,0,0.12);
        }

        .channel-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .channel-avatar-large {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            margin-right: 1rem;
        }

        .channel-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 0.25rem;
        }

        .subscriber-count {
            font-size: 0.9rem;
            color: #666;
        }

        .channel-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #f0f0f0;
        }

        .channel-stat {
            text-align: center;
        }

        .channel-stat-number {
            font-weight: bold;
            color: #1976d2;
        }

        .channel-stat-label {
            font-size: 0.8rem;
            color: #666;
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ¬ ì˜ìƒ ìˆ˜ì§‘ ëŒ€ì‹œë³´ë“œ</h1>
        <div class="nav-tabs">
            <button class="tab active" onclick="showTab('videos')">ìˆ˜ì§‘ëœ ì˜ìƒ</button>
            <button class="tab" onclick="showTab('trending')">ğŸ”¥ YouTube íŠ¸ë Œë”©</button>
            <button class="tab" onclick="showTab('channels')">ì±„ë„ ê´€ë¦¬</button>
            <button class="tab" onclick="showTab('analytics')">ë¶„ì„ ë¦¬í¬íŠ¸</button>
        </div>
    </div>

    <div class="main-content">
        <!-- í†µê³„ ë°” -->
        <div class="stats-bar">
            <div class="stat-card">
                <div class="stat-number">2,847</div>
                <div class="stat-label">ì´ ì˜ìƒ</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">187</div>
                <div class="stat-label">ì±„ë„ ìˆ˜</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">23</div>
                <div class="stat-label">ì˜¤ëŠ˜ ìˆ˜ì§‘</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">15</div>
                <div class="stat-label">ì¹´í…Œê³ ë¦¬</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="quota-remaining">-</div>
                <div class="stat-label">ë‚¨ì€ Quota</div>
            </div>
            <div class="stat-card" style="cursor: pointer;" onclick="testServerConnection()">
                <div class="stat-number" style="font-size: 1.5rem;">ğŸ”Œ</div>
                <div class="stat-label">ì„œë²„ ì—°ê²° í…ŒìŠ¤íŠ¸</div>
            </div>
        </div>

        <!-- ê²€ìƒ‰ ì„¹ì…˜ -->
        <div class="search-section">
            <div class="search-grid">
                <input type="text" class="search-input" placeholder="í‚¤ì›Œë“œ, ì±„ë„ëª…, ì œëª© ê²€ìƒ‰..." id="searchInput">
                <select class="filter-select" id="categoryFilter">
                    <option value="">ëª¨ë“  ì¹´í…Œê³ ë¦¬</option>
                    <option value="ê²Œì„">ê²Œì„</option>
                    <option value="ë·°í‹°">ë·°í‹°</option>
                    <option value="ìš”ë¦¬">ìš”ë¦¬</option>
                    <option value="ê¸°ìˆ ">ê¸°ìˆ </option>
                    <option value="êµìœ¡">êµìœ¡</option>
                </select>
                <select class="filter-select" id="platformFilter">
                    <option value="">ëª¨ë“  í”Œë«í¼</option>
                    <option value="youtube">YouTube</option>
                    <option value="instagram">Instagram</option>
                    <option value="tiktok">TikTok</option>
                </select>
                <button class="search-btn" onclick="searchVideos()">ğŸ” ê²€ìƒ‰</button>
            </div>
        </div>

        <!-- ì˜ìƒ íƒ­ -->
        <div id="videos-content">
            <div class="content-tabs">
                <div class="content-tab active" onclick="showVideoTab('recent')">ìµœì‹ ìˆœ</div>
                <div class="content-tab" onclick="showVideoTab('popular')">ì¸ê¸°ìˆœ</div>
                <div class="content-tab" onclick="showVideoTab('trending')">íŠ¸ë Œë”©</div>
            </div>

            <div class="video-grid">
                <!-- ì˜ìƒ ì¹´ë“œ 1 -->
                <div class="video-card">
                    <div class="thumbnail-container">
                        <div class="thumbnail-placeholder">ğŸ“¹ ì¸ë„¤ì¼ ë¡œë”©ì¤‘...</div>
                        <span class="platform-badge youtube">YouTube</span>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">ìš”ì¦˜ í•«í•œ ê²Œì„ ë¦¬ë·°! ì´ê±° ì§„ì§œ ì¬ë°Œë”ë¼</h3>
                        <div class="channel-info">
                            <div class="channel-avatar" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px;">ğŸ‘¤</div>
                            <span class="channel-name">ê²Œì„ë¦¬ë·°ì–´TV</span>
                        </div>
                        <div class="video-meta">
                            <span class="category-tag">ê²Œì„</span>
                            <span class="date">2ì‹œê°„ ì „</span>
                        </div>
                        <div class="keywords">
                            <span class="keyword-tag">ê²Œì„ë¦¬ë·°</span>
                            <span class="keyword-tag">ì‹ ì‘</span>
                            <span class="keyword-tag">ì¶”ì²œ</span>
                        </div>
                        <div class="video-actions">
                            <button class="action-btn primary">ì›ë³¸ ë³´ê¸°</button>
                            <button class="action-btn">ì±„ë„ íƒìƒ‰</button>
                        </div>
                    </div>
                </div>

                <!-- ì˜ìƒ ì¹´ë“œ 2 -->
                <div class="video-card">
                    <div class="thumbnail-container">
                        <div class="thumbnail-placeholder">ğŸ¬ ì˜ˆì‹œ ì¸ë„¤ì¼</div>
                        <span class="platform-badge instagram">Instagram</span>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">5ë¶„ë§Œì— ì™„ì„±í•˜ëŠ” í™ˆì¹´í˜ ë””ì €íŠ¸ ë ˆì‹œí”¼</h3>
                        <div class="channel-info">
                            <div class="channel-avatar" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px;">ğŸ‘¤</div>
                            <span class="channel-name">ë‹¬ì½¤í•œìš”ë¦¬ì‚¬</span>
                        </div>
                        <div class="video-meta">
                            <span class="category-tag">ìš”ë¦¬</span>
                            <span class="date">5ì‹œê°„ ì „</span>
                        </div>
                        <div class="keywords">
                            <span class="keyword-tag">ë””ì €íŠ¸</span>
                            <span class="keyword-tag">í™ˆì¹´í˜</span>
                            <span class="keyword-tag">ê°„ë‹¨</span>
                        </div>
                        <div class="video-actions">
                            <button class="action-btn primary">ì›ë³¸ ë³´ê¸°</button>
                            <button class="action-btn">ì±„ë„ íƒìƒ‰</button>
                        </div>
                    </div>
                </div>

                <!-- ì˜ìƒ ì¹´ë“œ 3 -->
                <div class="video-card">
                    <div class="thumbnail-container">
                        <div class="thumbnail-placeholder">ğŸ“± ì˜ˆì‹œ ì¸ë„¤ì¼</div>
                        <span class="platform-badge tiktok">TikTok</span>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">ì‹ ìƒ ë¦½ìŠ¤í‹± ë°œìƒ‰ í…ŒìŠ¤íŠ¸! ì´ê±° ë ˆì „ë“œë„¤</h3>
                        <div class="channel-info">
                            <div class="channel-avatar" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px;">ğŸ‘¤</div>
                            <span class="channel-name">ë·°í‹°êµ¬ë£¨</span>
                        </div>
                        <div class="video-meta">
                            <span class="category-tag">ë·°í‹°</span>
                            <span class="date">1ì¼ ì „</span>
                        </div>
                        <div class="keywords">
                            <span class="keyword-tag">ë¦½ìŠ¤í‹±</span>
                            <span class="keyword-tag">ì‹ ìƒ</span>
                            <span class="keyword-tag">ë¦¬ë·°</span>
                        </div>
                        <div class="video-actions">
                            <button class="action-btn primary">ì›ë³¸ ë³´ê¸°</button>
                            <button class="action-btn">ì±„ë„ íƒìƒ‰</button>
                        </div>
                    </div>
                </div>

                <!-- ì˜ìƒ ì¹´ë“œ 4 -->
                <div class="video-card">
                    <div class="thumbnail-container">
                        <div class="thumbnail-placeholder">ğŸµ ì˜ˆì‹œ ì¸ë„¤ì¼</div>
                        <span class="platform-badge youtube">YouTube</span>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">2024ë…„ ê°€ì¥ í•«í•œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ TOP 5</h3>
                        <div class="channel-info">
                            <div class="channel-avatar" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px;">ğŸ‘¤</div>
                            <span class="channel-name">í…Œí¬ì¸ì‚¬ì´ë“œ</span>
                        </div>
                        <div class="video-meta">
                            <span class="category-tag">ê¸°ìˆ </span>
                            <span class="date">2ì¼ ì „</span>
                        </div>
                        <div class="keywords">
                            <span class="keyword-tag">í”„ë¡œê·¸ë˜ë°</span>
                            <span class="keyword-tag">ê°œë°œ</span>
                            <span class="keyword-tag">íŠ¸ë Œë“œ</span>
                        </div>
                        <div class="video-actions">
                            <button class="action-btn primary">ì›ë³¸ ë³´ê¸°</button>
                            <button class="action-btn">ì±„ë„ íƒìƒ‰</button>
                        </div>
                    </div>
                </div>

                <!-- ì˜ìƒ ì¹´ë“œ 5 -->
                <div class="video-card">
                    <div class="thumbnail-container">
                        <div class="thumbnail-placeholder">ğŸ  ì˜ˆì‹œ ì¸ë„¤ì¼</div>
                        <span class="platform-badge instagram">Instagram</span>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">ìš´ë™ ì´ˆë³´ìë¥¼ ìœ„í•œ í™ˆíŠ¸ë ˆì´ë‹ ë£¨í‹´</h3>
                        <div class="channel-info">
                            <div class="channel-avatar" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px;">ğŸ‘¤</div>
                            <span class="channel-name">í™ˆíŠ¸ë ˆì´ë„ˆ</span>
                        </div>
                        <div class="video-meta">
                            <span class="category-tag">ìš´ë™</span>
                            <span class="date">3ì¼ ì „</span>
                        </div>
                        <div class="keywords">
                            <span class="keyword-tag">í™ˆíŠ¸</span>
                            <span class="keyword-tag">ì´ˆë³´</span>
                            <span class="keyword-tag">ë£¨í‹´</span>
                        </div>
                        <div class="video-actions">
                            <button class="action-btn primary">ì›ë³¸ ë³´ê¸°</button>
                            <button class="action-btn">ì±„ë„ íƒìƒ‰</button>
                        </div>
                    </div>
                </div>

                <!-- ì˜ìƒ ì¹´ë“œ 6 -->
                <div class="video-card">
                    <div class="thumbnail-container">
                        <div class="thumbnail-placeholder">ğŸ’„ ì˜ˆì‹œ ì¸ë„¤ì¼</div>
                        <span class="platform-badge youtube">YouTube</span>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">ì£¼ì‹ íˆ¬ì ì „ ë°˜ë“œì‹œ ì•Œì•„ì•¼ í•  5ê°€ì§€</h3>
                        <div class="channel-info">
                            <img src="https://picsum.photos/48/48?random=14" alt="ì±„ë„" class="channel-avatar">
                            <span class="channel-name">íˆ¬ìì˜ì‹ </span>
                        </div>
                        <div class="video-meta">
                            <span class="category-tag">ê²½ì œ</span>
                            <span class="date">4ì¼ ì „</span>
                        </div>
                        <div class="keywords">
                            <span class="keyword-tag">íˆ¬ì</span>
                            <span class="keyword-tag">ì£¼ì‹</span>
                            <span class="keyword-tag">íŒ</span>
                        </div>
                        <div class="video-actions">
                            <button class="action-btn primary">ì›ë³¸ ë³´ê¸°</button>
                            <button class="action-btn">ì±„ë„ íƒìƒ‰</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- YouTube íŠ¸ë Œë”© ì„¹ì…˜ -->
        <div id="trending-content" class="hidden">
            <div class="section-header">
                <h2>ğŸ”¥ YouTube íŠ¸ë Œë”© ì˜ìƒ</h2>
                <p>ìµœê·¼ 7ì¼ê°„ ì¡°íšŒìˆ˜ ë†’ì€ ì˜ìƒë“¤ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ìˆ˜ì§‘í•©ë‹ˆë‹¤</p>
            </div>

            <div class="action-bar">
                <button onclick="collectTrendingVideos()" class="btn-primary">
                    ğŸ“Š ìµœì‹  íŠ¸ë Œë“œ ìˆ˜ì§‘
                </button>
                <button onclick="loadTrendingData()" class="btn-secondary">
                    ğŸ”„ íŠ¸ë Œë”© ë°ì´í„° ìƒˆë¡œê³ ì¹¨
                </button>
            </div>

            <!-- íŠ¸ë Œë”© ì˜ìƒ ê·¸ë¦¬ë“œ -->
            <div id="trending-video-grid" class="video-grid">
                <div class="placeholder-message">
                    <h3>ğŸ” íŠ¸ë Œë”© ì˜ìƒì„ ìˆ˜ì§‘í•´ë³´ì„¸ìš”</h3>
                    <p>ìœ„ì˜ "ìµœì‹  íŠ¸ë Œë“œ ìˆ˜ì§‘" ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ YouTubeì—ì„œ ê°€ì¥ ì¸ê¸° ìˆëŠ” ì˜ìƒë“¤ì„ ê°€ì ¸ì˜µë‹ˆë‹¤</p>
                </div>
            </div>
        </div>

        <!-- ì±„ë„ íƒ­ -->
        <div id="channels-content" class="hidden">
            <div class="content-tabs">
                <div class="content-tab active" onclick="showChannelTab('all')">ì „ì²´ ì±„ë„</div>
                <div class="content-tab" onclick="showChannelTab('game')">ê²Œì„ (45)</div>
                <div class="content-tab" onclick="showChannelTab('beauty')">ë·°í‹° (28)</div>
                <div class="content-tab" onclick="showChannelTab('cooking')">ìš”ë¦¬ (31)</div>
                <div class="content-tab" onclick="showChannelTab('tech')">ê¸°ìˆ  (22)</div>
            </div>

            <div class="channel-grid">
                <!-- ì±„ë„ ì¹´ë“œ 1 -->
                <div class="channel-card">
                    <div class="channel-header">
                        <div class="channel-avatar-large" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px;">ğŸ®</div>
                        <div>
                            <div class="channel-title">ê²Œì„ë¦¬ë·°ì–´TV</div>
                            <div class="subscriber-count">128ë§Œ êµ¬ë…ì</div>
                            <span class="category-tag">ê²Œì„</span>
                        </div>
                    </div>
                    <div class="channel-stats">
                        <div class="channel-stat">
                            <div class="channel-stat-number">47</div>
                            <div class="channel-stat-label">ìˆ˜ì§‘ëœ ì˜ìƒ</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">23</div>
                            <div class="channel-stat-label">ì´ë²ˆ ë‹¬</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">ğŸ”¥</div>
                            <div class="channel-stat-label">íŠ¸ë Œë”©</div>
                        </div>
                    </div>
                    <div class="video-actions">
                        <button class="action-btn primary">ìˆ˜ì§‘ ì˜ìƒ ë³´ê¸°</button>
                        <button class="action-btn" onclick="collectChannelTrending('UCXuqSBlHAE6Xw-yeJA0Tunw')">ìµœì‹  íŠ¸ë Œë“œ í™•ì¸</button>
                    </div>
                </div>

                <!-- ì±„ë„ ì¹´ë“œ 2 -->
                <div class="channel-card">
                    <div class="channel-header">
                        <div class="channel-avatar-large" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px;">ğŸ’„</div>
                        <div>
                            <div class="channel-title">ë‹¬ì½¤í•œìš”ë¦¬ì‚¬</div>
                            <div class="subscriber-count">89ë§Œ êµ¬ë…ì</div>
                            <span class="category-tag">ìš”ë¦¬</span>
                        </div>
                    </div>
                    <div class="channel-stats">
                        <div class="channel-stat">
                            <div class="channel-stat-number">32</div>
                            <div class="channel-stat-label">ìˆ˜ì§‘ëœ ì˜ìƒ</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">18</div>
                            <div class="channel-stat-label">ì´ë²ˆ ë‹¬</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">ğŸ“ˆ</div>
                            <div class="channel-stat-label">ì„±ì¥ì¤‘</div>
                        </div>
                    </div>
                    <div class="video-actions">
                        <button class="action-btn primary">ìˆ˜ì§‘ ì˜ìƒ ë³´ê¸°</button>
                        <button class="action-btn" onclick="collectChannelTrending('UCXuqSBlHAE6Xw-yeJA0Tunw')">ìµœì‹  íŠ¸ë Œë“œ í™•ì¸</button>
                    </div>
                </div>

                <!-- ì±„ë„ ì¹´ë“œ 3 -->
                <div class="channel-card">
                    <div class="channel-header">
                        <div class="channel-avatar-large" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px;">ğŸ³</div>
                        <div>
                            <div class="channel-title">ë·°í‹°êµ¬ë£¨</div>
                            <div class="subscriber-count">156ë§Œ êµ¬ë…ì</div>
                            <span class="category-tag">ë·°í‹°</span>
                        </div>
                    </div>
                    <div class="channel-stats">
                        <div class="channel-stat">
                            <div class="channel-stat-number">61</div>
                            <div class="channel-stat-label">ìˆ˜ì§‘ëœ ì˜ìƒ</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">29</div>
                            <div class="channel-stat-label">ì´ë²ˆ ë‹¬</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">â­</div>
                            <div class="channel-stat-label">ì¸ê¸°</div>
                        </div>
                    </div>
                    <div class="video-actions">
                        <button class="action-btn primary">ìˆ˜ì§‘ ì˜ìƒ ë³´ê¸°</button>
                        <button class="action-btn" onclick="collectChannelTrending('UCXuqSBlHAE6Xw-yeJA0Tunw')">ìµœì‹  íŠ¸ë Œë“œ í™•ì¸</button>
                    </div>
                </div>

                <!-- ì±„ë„ ì¹´ë“œ 4 -->
                <div class="channel-card">
                    <div class="channel-header">
                        <div class="channel-avatar-large" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px;">ğŸ’»</div>
                        <div>
                            <div class="channel-title">í…Œí¬ì¸ì‚¬ì´ë“œ</div>
                            <div class="subscriber-count">73ë§Œ êµ¬ë…ì</div>
                            <span class="category-tag">ê¸°ìˆ </span>
                        </div>
                    </div>
                    <div class="channel-stats">
                        <div class="channel-stat">
                            <div class="channel-stat-number">28</div>
                            <div class="channel-stat-label">ìˆ˜ì§‘ëœ ì˜ìƒ</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">12</div>
                            <div class="channel-stat-label">ì´ë²ˆ ë‹¬</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">ğŸš€</div>
                            <div class="channel-stat-label">ì‹ ê·œ</div>
                        </div>
                    </div>
                    <div class="video-actions">
                        <button class="action-btn primary">ìˆ˜ì§‘ ì˜ìƒ ë³´ê¸°</button>
                        <button class="action-btn" onclick="collectChannelTrending('UCXuqSBlHAE6Xw-yeJA0Tunw')">ìµœì‹  íŠ¸ë Œë“œ í™•ì¸</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ë¶„ì„ íƒ­ -->
        <div id="analytics-content" class="hidden">
            <div style="text-align: center; padding: 4rem; color: #666;">
                <h2>ğŸ“Š ë¶„ì„ ë¦¬í¬íŠ¸</h2>
                <p>ì¹´í…Œê³ ë¦¬ë³„ íŠ¸ë Œë“œ, ì±„ë„ ì„±ì¥ë¥ , í‚¤ì›Œë“œ ë¶„ì„ ë“±ì´ í‘œì‹œë©ë‹ˆë‹¤.</p>
                <div style="margin-top: 2rem; display: grid; grid-template-columns: repeat(2, 1fr); gap: 2rem; max-width: 600px; margin: 2rem auto;">
                    <div class="stat-card" style="padding: 2rem;">
                        <div class="stat-number">15%</div>
                        <div class="stat-label">ì´ë²ˆ ë‹¬ ì¦ê°€ìœ¨</div>
                    </div>
                    <div class="stat-card" style="padding: 2rem;">
                        <div class="stat-number">ê²Œì„</div>
                        <div class="stat-label">ê°€ì¥ ì¸ê¸° ì¹´í…Œê³ ë¦¬</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // API ì„œë²„ ê¸°ë³¸ URL
        const API_BASE_URL = 'http://localhost:3000';

        // API í—¬í¼ í•¨ìˆ˜ë“¤
        const API = {
            // ì„œë²„ ìƒíƒœ í™•ì¸
            async checkHealth() {
                try {
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 5000); // 5ì´ˆ íƒ€ì„ì•„ì›ƒ
                    
                    const response = await fetch(`${API_BASE_URL}/health`, {
                        signal: controller.signal
                    });
                    clearTimeout(timeoutId);
                    return await response.json();
                } catch (error) {
                    console.error('ì„œë²„ ì—°ê²° ì‹¤íŒ¨:', error);
                    return null;
                }
            },

            // í†µê³„ ì •ë³´ ì¡°íšŒ
            async getStats() {
                try {
                    const response = await fetch(`${API_BASE_URL}/api/stats`);
                    return await response.json();
                } catch (error) {
                    console.error('í†µê³„ ì¡°íšŒ ì‹¤íŒ¨:', error);
                    return null;
                }
            },

            // YouTube API Quota í˜„í™©
            async getQuotaStatus() {
                try {
                    const response = await fetch(`${API_BASE_URL}/api/quota-status`);
                    return await response.json();
                } catch (error) {
                    console.error('Quota ìƒíƒœ ì¡°íšŒ ì‹¤íŒ¨:', error);
                    return null;
                }
            },

            // íŠ¸ë Œë”© ìˆ˜ì§‘ í†µê³„
            async getTrendingStats() {
                try {
                    const response = await fetch(`${API_BASE_URL}/api/trending-stats`);
                    return await response.json();
                } catch (error) {
                    console.error('íŠ¸ë Œë”© í†µê³„ ì¡°íšŒ ì‹¤íŒ¨:', error);
                    return null;
                }
            },

            // ì±„ë„ë³„ íŠ¸ë Œë”© ì˜ìƒ ìˆ˜ì§‘
            async collectTrending(channelIds, options = {}) {
                try {
                    const response = await fetch(`${API_BASE_URL}/api/collect-trending`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            channelIds,
                            options: {
                                daysBack: options.daysBack || 7,
                                minViewCount: options.minViewCount || 10000,
                                maxResults: options.maxResults || 10
                            }
                        })
                    });
                    return await response.json();
                } catch (error) {
                    console.error('íŠ¸ë Œë”© ìˆ˜ì§‘ ì‹¤íŒ¨:', error);
                    return null;
                }
            },

            // ìˆ˜ì§‘ëœ ì˜ìƒ ëª©ë¡ ì¡°íšŒ
            async getVideos() {
                try {
                    const response = await fetch(`${API_BASE_URL}/api/videos`);
                    return await response.json();
                } catch (error) {
                    console.error('ì˜ìƒ ëª©ë¡ ì¡°íšŒ ì‹¤íŒ¨:', error);
                    return null;
                }
            }
        };

        // UI ì—…ë°ì´íŠ¸ í—¬í¼ í•¨ìˆ˜ë“¤
        const UI = {
            // í†µê³„ ì¹´ë“œ ì—…ë°ì´íŠ¸
            updateStatsBar(stats, quotaInfo = null) {
                const statCards = document.querySelectorAll('.stat-number');
                if (stats && statCards.length >= 5) {
                    statCards[0].textContent = stats.total || '0';
                    statCards[1].textContent = '187'; // ì±„ë„ ìˆ˜ (í•˜ë“œì½”ë”©)
                    statCards[2].textContent = stats.today || '0';
                    statCards[3].textContent = '15'; // ì¹´í…Œê³ ë¦¬ (í•˜ë“œì½”ë”©)
                }
                
                // Quota ì •ë³´ ì—…ë°ì´íŠ¸
                const quotaElement = document.getElementById('quota-remaining');
                if (quotaInfo && quotaElement) {
                    const remaining = quotaInfo.quota?.remaining || 0;
                    quotaElement.textContent = remaining.toLocaleString();
                    
                    // ìƒ‰ìƒ ë³€ê²½ (ë‚¨ì€ ì–‘ì— ë”°ë¼)
                    if (remaining < 1000) {
                        quotaElement.style.color = '#f44336'; // ë¹¨ê°„ìƒ‰
                    } else if (remaining < 3000) {
                        quotaElement.style.color = '#ff9800'; // ì£¼í™©ìƒ‰
                    } else {
                        quotaElement.style.color = '#1976d2'; // íŒŒë€ìƒ‰
                    }
                }
            },

            // ë¡œë”© ìƒíƒœ í‘œì‹œ
            showLoading(message = 'ë¡œë”© ì¤‘...') {
                // ê°„ë‹¨í•œ ë¡œë”© í‘œì‹œ (ë‚˜ì¤‘ì— ê°œì„  ê°€ëŠ¥)
                console.log('ğŸ”„', message);
            },

            // ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
            showError(message) {
                alert(`âŒ ì˜¤ë¥˜: ${message}`);
            },

            // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
            showSuccess(message) {
                alert(`âœ… ì„±ê³µ: ${message}`);
            }
        };

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì¦‰ì‹œ ì™„ë£Œ (API í˜¸ì¶œ ì—†ìŒ)
        window.addEventListener('DOMContentLoaded', () => {
            console.log('ğŸš€ ëŒ€ì‹œë³´ë“œ ë¡œë”© ì™„ë£Œ!');
            console.log('ğŸ’¡ ë²„íŠ¼ì„ í´ë¦­í•´ì„œ API ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.');
            
            // API í˜¸ì¶œ ì™„ì „íˆ ì œê±° - í•„ìš”ì‹œì—ë§Œ ìˆ˜ë™ í˜¸ì¶œ
        });

        // ë°±ê·¸ë¼ìš´ë“œ ì„œë²„ í™•ì¸ (í˜ì´ì§€ ë¡œë”© ì°¨ë‹¨ ì•ˆí•¨)
        async function checkServerInBackground() {
            try {
                const response = await fetch('http://localhost:3000/health', {
                    signal: AbortSignal.timeout(2000) // 2ì´ˆ íƒ€ì„ì•„ì›ƒ
                });
                
                if (response.ok) {
                    console.log('âœ… ì„œë²„ ì—°ê²° í™•ì¸ë¨ - ê¸°ëŠ¥ í™œì„±í™”');
                    quickLoadQuota();
                } else {
                    console.log('âš ï¸ ì„œë²„ ì‘ë‹µ ì˜¤ë¥˜');
                }
            } catch (error) {
                console.log('ğŸ“´ ì„œë²„ ì˜¤í”„ë¼ì¸ - ìˆ˜ë™ ëª¨ë“œ');
            }
        }

        // ë¹ ë¥¸ Quota ë¡œë“œ
        async function quickLoadQuota() {
            try {
                const response = await fetch('http://localhost:3000/api/quota-status', {
                    signal: AbortSignal.timeout(3000)
                });
                const data = await response.json();
                
                const quotaElement = document.getElementById('quota-remaining');
                if (quotaElement && data.data?.quota?.remaining) {
                    quotaElement.textContent = data.data.quota.remaining.toLocaleString();
                    quotaElement.style.color = '#1976d2';
                    console.log('ğŸ“Š Quota ì—…ë°ì´íŠ¸:', data.data.quota.remaining);
                }
            } catch (error) {
                console.log('âš ï¸ Quota ë¡œë“œ ì‹¤íŒ¨');
            }
        }

        // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
        async function loadInitialData() {
            UI.showLoading('í†µê³„ ë°ì´í„° ë¡œë“œ ì¤‘...');
            
            // ë³‘ë ¬ë¡œ ë°ì´í„° ë¡œë“œ
            const [stats, quotaStatus] = await Promise.all([
                API.getStats(),
                API.getQuotaStatus()
            ]);

            // í†µê³„ ì •ë³´ ì—…ë°ì´íŠ¸ (Quota í¬í•¨)
            if (stats || quotaStatus) {
                UI.updateStatsBar(
                    stats?.data,
                    quotaStatus?.data
                );
            }

            if (quotaStatus) {
                console.log('ğŸ“Š YouTube API Quota:', quotaStatus.data.quota);
            }
            
            console.log('âœ… ì´ˆê¸° ë°ì´í„° ë¡œë“œ ì™„ë£Œ');
        }

        // ì•ˆì „í•œ ì´ˆê¸° ë°ì´í„° ë¡œë“œ (íƒ€ì„ì•„ì›ƒ ì ìš©)
        async function loadInitialDataSafe() {
            console.log('ğŸ“Š ì•ˆì „í•œ ì´ˆê¸°í™” ì‹œì‘...');
            
            try {
                // ê°„ë‹¨í•œ í†µê³„ ë¡œë“œ (íƒ€ì„ì•„ì›ƒ 5ì´ˆ)
                const controller = new AbortController();
                setTimeout(() => controller.abort(), 5000);
                
                const quotaResponse = await fetch('http://localhost:3000/api/quota-status', {
                    signal: controller.signal
                });
                
                if (quotaResponse.ok) {
                    const quotaData = await quotaResponse.json();
                    console.log('ğŸ“Š Quota ë°ì´í„° ë¡œë“œ ì„±ê³µ:', quotaData.data?.quota);
                    
                    // Quota ì •ë³´ë§Œ ì—…ë°ì´íŠ¸
                    const quotaElement = document.getElementById('quota-remaining');
                    if (quotaElement && quotaData.data?.quota?.remaining) {
                        quotaElement.textContent = quotaData.data.quota.remaining.toLocaleString();
                        quotaElement.style.color = '#1976d2';
                    }
                }
            } catch (error) {
                console.log('âš ï¸ ì¼ë¶€ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error.message);
            }
            
            console.log('âœ… ì•ˆì „í•œ ì´ˆê¸°í™” ì™„ë£Œ');
        }

        // ì˜¤í”„ë¼ì¸ ëª¨ë“œ í‘œì‹œ
        function showOfflineMode() {
            const quotaElement = document.getElementById('quota-remaining');
            if (quotaElement) {
                quotaElement.textContent = 'offline';
                quotaElement.style.color = '#f44336';
            }
            console.log('ğŸ“´ ì˜¤í”„ë¼ì¸ ëª¨ë“œë¡œ ë™ì‘ ì¤‘');
        }

        // ìˆ˜ë™ ì„œë²„ ì—°ê²° í…ŒìŠ¤íŠ¸
        async function testServerConnection() {
            const button = event.target.closest('.stat-card');
            button.style.opacity = '0.5';
            
            try {
                console.log('ğŸ”Œ ì„œë²„ ì—°ê²° í…ŒìŠ¤íŠ¸ ì‹œì‘...');
                const response = await fetch('http://localhost:3000/health');
                const data = await response.json();
                
                console.log('âœ… ì„œë²„ ì—°ê²° ì„±ê³µ:', data);
                alert(`âœ… ì„œë²„ ì—°ê²° ì„±ê³µ!\nìƒíƒœ: ${data.status}\në²„ì „: ${data.version}\nGemini: ${data.useGemini ? 'í™œì„±' : 'ë¹„í™œì„±'}`);
                
                // Quota ì •ë³´ ë¡œë“œ
                quickLoadQuota();
                
            } catch (error) {
                console.log('âŒ ì„œë²„ ì—°ê²° ì‹¤íŒ¨:', error);
                alert(`âŒ ì„œë²„ ì—°ê²° ì‹¤íŒ¨\n\nì˜¤ë¥˜: ${error.message}\n\ní™•ì¸ì‚¬í•­:\n- localhost:3000 ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ê°€ìš”?\n- ë°©í™”ë²½ì´ ì°¨ë‹¨í•˜ê³  ìˆì§€ ì•Šë‚˜ìš”?`);
            } finally {
                button.style.opacity = '1';
            }
        }

        function showTab(tabName) {
            // íƒ­ ë²„íŠ¼ í™œì„±í™”
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');

            // ì½˜í…ì¸  í‘œì‹œ/ìˆ¨ê¹€
            document.getElementById('videos-content').classList.toggle('hidden', tabName !== 'videos');
            document.getElementById('trending-content').classList.toggle('hidden', tabName !== 'trending');
            document.getElementById('channels-content').classList.toggle('hidden', tabName !== 'channels');
            document.getElementById('analytics-content').classList.toggle('hidden', tabName !== 'analytics');
        }

        async function showVideoTab(type) {
            document.querySelectorAll('.content-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            if (type === 'trending') {
                // íŠ¸ë Œë”© íƒ­ - ì‹¤ì œ ë°ì´í„° ë¡œë“œ
                await loadTrendingData();
            } else if (type === 'recent') {
                // ìµœì‹ ìˆœ íƒ­ - ìˆ˜ì§‘ëœ ì˜ìƒ ë°ì´í„° ë¡œë“œ
                await loadRecentVideos();
            } else if (type === 'popular') {
                // ì¸ê¸°ìˆœ íƒ­ - ì¡°íšŒìˆ˜ ê¸°ì¤€ ì •ë ¬
                await loadPopularVideos();
            }
            
            console.log('ì˜ìƒ íƒ­ ë³€ê²½:', type);
        }

        // íŠ¸ë Œë”© ë°ì´í„° ë¡œë“œ
        async function loadTrendingData() {
            UI.showLoading('íŠ¸ë Œë”© ë°ì´í„° ë¡œë“œ ì¤‘...');
            
            try {
                const trendingStats = await API.getTrendingStats();
                if (trendingStats && trendingStats.success) {
                    console.log('ğŸ“ˆ íŠ¸ë Œë”© ë°ì´í„°:', trendingStats.data);
                    
                    // íŠ¸ë Œë”© í†µê³„ê°€ ìˆìœ¼ë©´ UI ì—…ë°ì´íŠ¸
                    if (trendingStats.data.stats && trendingStats.data.stats.length > 0) {
                        updateVideoGridWithTrending(trendingStats.data.stats);
                        UI.showSuccess(`íŠ¸ë Œë”© ë°ì´í„° ë¡œë“œ ì™„ë£Œ! ${trendingStats.data.stats.length}ê°œ ìˆ˜ì§‘ ê¸°ë¡`);
                    } else {
                        showNoTrendingDataMessage();
                    }
                } else {
                    showNoTrendingDataMessage();
                }
            } catch (error) {
                console.error('íŠ¸ë Œë”© ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
                UI.showError('íŠ¸ë Œë”© ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
            }
        }

        // ìµœì‹  ì˜ìƒ ë°ì´í„° ë¡œë“œ
        async function loadRecentVideos() {
            UI.showLoading('ìµœì‹  ì˜ìƒ ë¡œë“œ ì¤‘...');
            
            try {
                const videos = await API.getVideos();
                if (videos && videos.success) {
                    console.log('ğŸ“¹ ìµœì‹  ì˜ìƒ:', videos);
                    // ì—¬ê¸°ì„œ ì‹¤ì œ ì˜ìƒ ë°ì´í„°ë¡œ UI ì—…ë°ì´íŠ¸ ê°€ëŠ¥
                } else {
                    console.log('ìµœì‹  ì˜ìƒ ë°ì´í„° ì—†ìŒ');
                }
            } catch (error) {
                console.error('ìµœì‹  ì˜ìƒ ë¡œë“œ ì‹¤íŒ¨:', error);
            }
        }

        // ì¸ê¸° ì˜ìƒ ë°ì´í„° ë¡œë“œ
        async function loadPopularVideos() {
            UI.showLoading('ì¸ê¸° ì˜ìƒ ë¡œë“œ ì¤‘...');
            console.log('ì¸ê¸°ìˆœ ì •ë ¬ (êµ¬í˜„ ì˜ˆì •)');
        }

        // íŠ¸ë Œë”© ë°ì´í„°ê°€ ì—†ì„ ë•Œ ë©”ì‹œì§€ í‘œì‹œ
        function showNoTrendingDataMessage() {
            const videoGrid = document.querySelector('.video-grid');
            videoGrid.innerHTML = `
                <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; background: white; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <h3 style="color: #666; margin-bottom: 1rem;">ğŸ“Š íŠ¸ë Œë”© ë°ì´í„°ê°€ ì•„ì§ ì—†ìŠµë‹ˆë‹¤</h3>
                    <p style="color: #999; margin-bottom: 2rem;">ì±„ë„ ê´€ë¦¬ íƒ­ì—ì„œ íŠ¸ë Œë”© ì˜ìƒ ìˆ˜ì§‘ì„ ì‹œì‘í•´ë³´ì„¸ìš”!</p>
                    <button onclick="showTab('channels')" style="padding: 0.75rem 1.5rem; background: #1976d2; color: white; border: none; border-radius: 8px; cursor: pointer;">
                        ğŸ“º ì±„ë„ ê´€ë¦¬ë¡œ ì´ë™
                    </button>
                </div>
            `;
        }

        // íŠ¸ë Œë”© ë°ì´í„°ë¡œ ì‹¤ì œ YouTube ì˜ìƒ í‘œì‹œ
        function updateVideoGridWithTrending(stats) {
            const videoGrid = document.getElementById('trending-video-grid');
            
            // ê°€ì¥ ìµœê·¼ ìˆ˜ì§‘ ê¸°ë¡ì—ì„œ ì‹¤ì œ ì˜ìƒë“¤ ê°€ì ¸ì˜¤ê¸°
            const latestCollection = stats[stats.length - 1];
            
            if (!latestCollection || !latestCollection.videos || latestCollection.videos.length === 0) {
                // ì˜ìƒ ë°ì´í„°ê°€ ì—†ìœ¼ë©´ í†µê³„ë§Œ í‘œì‹œ
                showTrendingStatsOnly(stats);
                return;
            }

            const videos = latestCollection.videos;
            const date = new Date(latestCollection.timestamp).toLocaleDateString('ko-KR');
            
            let html = `
                <div style="grid-column: 1 / -1; text-align: center; padding: 2rem; background: white; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                    <h3 style="color: #1976d2; margin-bottom: 1rem;">ğŸ”¥ ìµœì‹  íŠ¸ë Œë”© ì˜ìƒ (${date})</h3>
                    <p style="color: #666;">${videos.length}ê°œì˜ íŠ¸ë Œë”© ì˜ìƒ â€¢ í• ë‹¹ëŸ‰: ${latestCollection.quotaUsed} units</p>
                </div>
            `;
            
            // ì‹¤ì œ YouTube ì˜ìƒë“¤ì„ ì¹´ë“œë¡œ í‘œì‹œ
            videos.forEach((video, index) => {
                const videoId = video.id;
                const title = video.snippet?.title || 'ì œëª© ì—†ìŒ';
                const channelTitle = video.snippet?.channelTitle || 'ì±„ë„ ì—†ìŒ';
                const publishedAt = new Date(video.snippet?.publishedAt).toLocaleDateString('ko-KR');
                const viewCount = parseInt(video.statistics?.viewCount || 0);
                const likeCount = parseInt(video.statistics?.likeCount || 0);
                
                // YouTube ì¸ë„¤ì¼ URL
                const thumbnailUrl = video.snippet?.thumbnails?.maxresdefault?.url || 
                                   video.snippet?.thumbnails?.high?.url || 
                                   `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`;
                
                // YouTube ì˜ìƒ URL
                const videoUrl = `https://www.youtube.com/watch?v=${videoId}`;
                
                html += `
                    <div class="video-card">
                        <div class="thumbnail-container">
                            <img src="${thumbnailUrl}" alt="ì¸ë„¤ì¼" class="thumbnail" 
                                 onerror="this.src='https://img.youtube.com/vi/${videoId}/hqdefault.jpg'">
                            <span class="platform-badge youtube">YouTube</span>
                            <div style="position: absolute; bottom: 8px; right: 8px; background: rgba(0,0,0,0.8); color: white; padding: 4px 8px; border-radius: 4px; font-size: 0.7rem;">
                                ${viewCount.toLocaleString()}íšŒ
                            </div>
                        </div>
                        <div class="video-info">
                            <h3 class="video-title">${title}</h3>
                            <div class="channel-info">
                                <div style="width: 24px; height: 24px; background: #ff0000; border-radius: 50%; margin-right: 0.5rem; display: flex; align-items: center; justify-content: center; color: white; font-size: 0.7rem;">â–¶</div>
                                <span class="channel-name">${channelTitle}</span>
                            </div>
                            <div class="video-meta">
                                <span class="category-tag">íŠ¸ë Œë”© #${index + 1}</span>
                                <span class="date">${publishedAt}</span>
                            </div>
                            <div class="keywords">
                                <span class="keyword-tag">ğŸ‘€ ${viewCount.toLocaleString()}</span>
                                ${likeCount > 0 ? `<span class="keyword-tag">ğŸ‘ ${likeCount.toLocaleString()}</span>` : ''}
                                <span class="keyword-tag">ğŸ”¥ íŠ¸ë Œë”©</span>
                            </div>
                            <div class="video-actions">
                                <button class="action-btn primary" onclick="window.open('${videoUrl}', '_blank')">
                                    â–¶ ì˜ìƒ ë³´ê¸°
                                </button>
                                <button class="action-btn" onclick="copyToClipboard('${videoUrl}')">
                                    ğŸ”— ë§í¬ ë³µì‚¬
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            videoGrid.innerHTML = html;
        }

        // í†µê³„ë§Œ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ (ì‹¤ì œ ì˜ìƒì´ ì—†ì„ ë•Œ)
        function showTrendingStatsOnly(stats) {
            const videoGrid = document.querySelector('.video-grid');
            
            let html = `
                <div style="grid-column: 1 / -1; text-align: center; padding: 2rem; background: white; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                    <h3 style="color: #1976d2; margin-bottom: 1rem;">ğŸ“ˆ íŠ¸ë Œë”© ìˆ˜ì§‘ í†µê³„</h3>
                    <p style="color: #666;">ì´ ${stats.length}ê°œì˜ íŠ¸ë Œë”© ìˆ˜ì§‘ ê¸°ë¡ì´ ìˆìŠµë‹ˆë‹¤.</p>
                    <p style="color: #999; font-size: 0.9rem;">ì‹¤ì œ ì˜ìƒì„ ë³´ë ¤ë©´ ìƒˆë¡œìš´ íŠ¸ë Œë”© ìˆ˜ì§‘ì„ ì‹¤í–‰í•˜ì„¸ìš”.</p>
                </div>
            `;
            
            videoGrid.innerHTML = html;
        }

        // ë§í¬ ë³µì‚¬ ê¸°ëŠ¥
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('âœ… ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }).catch(err => {
                console.error('ë§í¬ ë³µì‚¬ ì‹¤íŒ¨:', err);
                alert('âŒ ë§í¬ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            });
        }

        // ì±„ë„ë³„ íŠ¸ë Œë”© ìˆ˜ì§‘ ì‹¤í–‰
        async function collectChannelTrending(channelId, channelName = 'ì„ íƒëœ ì±„ë„') {
            // í™•ì¸ ëŒ€í™”ìƒì
            const confirmed = confirm(`${channelName}ì˜ ìµœì‹  íŠ¸ë Œë”© ì˜ìƒì„ ìˆ˜ì§‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\n- ìµœê·¼ 7ì¼ê°„ ì˜ìƒ ìˆ˜ì§‘\n- ìµœì†Œ 50,000 ì¡°íšŒìˆ˜ ì´ìƒ\n- ìµœëŒ€ 8ê°œ ì˜ìƒ\n- YouTube API í• ë‹¹ëŸ‰ ì•½ 110 units ì†Œëª¨`);
            
            if (!confirmed) return;

            UI.showLoading(`${channelName} íŠ¸ë Œë”© ìˆ˜ì§‘ ì¤‘...`);

            try {
                const result = await API.collectTrending([channelId], {
                    daysBack: 7,
                    minViewCount: 50000,
                    maxResults: 8
                });

                if (result && result.success) {
                    console.log('ğŸ¯ íŠ¸ë Œë”© ìˆ˜ì§‘ ì™„ë£Œ:', result.data);
                    
                    // ì„±ê³µ ë©”ì‹œì§€ì™€ ê²°ê³¼ í‘œì‹œ
                    const stats = result.data.results[0];
                    const successMessage = `
âœ… íŠ¸ë Œë”© ìˆ˜ì§‘ ì™„ë£Œ!

ğŸ“Š ìˆ˜ì§‘ ê²°ê³¼:
- ì´ ì˜ìƒ: ${stats.totalVideos}ê°œ
- íŠ¸ë Œë”© ì˜ìƒ: ${stats.trendingVideos}ê°œ
- íŠ¸ë Œë”© ë¹„ìœ¨: ${stats.trendingRate}%
- ì‚¬ìš©ëœ í• ë‹¹ëŸ‰: ${stats.quotaUsed}

ğŸ’¡ íŠ¸ë Œë”© íƒ­ì—ì„œ ì‹¤ì œ ì˜ìƒì„ í™•ì¸í•˜ì„¸ìš”!
                    `.trim();
                    
                    alert(successMessage);
                    
                    // íŠ¸ë Œë”© íƒ­ìœ¼ë¡œ ìë™ ì´ë™í•˜ê³  ì‹¤ì œ ì˜ìƒ í‘œì‹œ
                    showTab('videos');
                    setTimeout(() => showVideoTab('trending'), 100);
                    
                } else {
                    throw new Error(result?.message || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ ë°œìƒ');
                }
                
            } catch (error) {
                console.error('íŠ¸ë Œë”© ìˆ˜ì§‘ ì‹¤íŒ¨:', error);
                UI.showError(`íŠ¸ë Œë”© ìˆ˜ì§‘ ì‹¤íŒ¨: ${error.message}`);
            }
        }

        // ì‹¤ì œ YouTube ì±„ë„ IDë“¤ë¡œ ì—…ë°ì´íŠ¸ (ì˜ˆì‹œ)
        const SAMPLE_CHANNELS = {
            'UCXuqSBlHAE6Xw-yeJA0Tunw': 'Linus Tech Tips',
            'UCsBjURrPoezykLs9EqgamOA': 'Fireship',
            'UC8butISFwT-Wl7EV0hUK0BQ': 'freeCodeCamp',
            'UCJbPGzawDH1njbqV-D5HqKw': 'BroCode'
        };

        function showChannelTab(category) {
            document.querySelectorAll('.content-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ API í˜¸ì¶œí•˜ì—¬ ì±„ë„ í•„í„°ë§
            console.log('ì±„ë„ íƒ­ ë³€ê²½:', category);
        }

        function searchVideos() {
            const keyword = document.getElementById('searchInput').value;
            const category = document.getElementById('categoryFilter').value;
            const platform = document.getElementById('platformFilter').value;
            
            console.log('ê²€ìƒ‰:', { keyword, category, platform });
            // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ API í˜¸ì¶œí•˜ì—¬ ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ
            alert(`ê²€ìƒ‰ ì‹¤í–‰!\ní‚¤ì›Œë“œ: ${keyword}\nì¹´í…Œê³ ë¦¬: ${category}\ní”Œë«í¼: ${platform}`);
        }

        // ë°ëª¨ìš© ìƒí˜¸ì‘ìš©
        document.querySelectorAll('.action-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                if (this.textContent.includes('ì›ë³¸ ë³´ê¸°')) {
                    alert('ì›ë³¸ ì˜ìƒ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤!');
                } else if (this.textContent.includes('ì±„ë„ íƒìƒ‰')) {
                    alert('ì±„ë„ì˜ ìµœê·¼ ì¸ê¸° ì˜ìƒë“¤ì„ ë¶„ì„í•©ë‹ˆë‹¤!');
                } else if (this.textContent.includes('ìˆ˜ì§‘ ì˜ìƒ ë³´ê¸°')) {
                    alert('ì´ ì±„ë„ì—ì„œ ìˆ˜ì§‘ëœ ëª¨ë“  ì˜ìƒë“¤ì„ í‘œì‹œí•©ë‹ˆë‹¤!');
                } else if (this.textContent.includes('ìµœì‹  íŠ¸ë Œë“œ í™•ì¸')) {
                    alert('ì´ ì±„ë„ì˜ ìµœê·¼ 1ì£¼ì¼ ì¸ê¸° ì˜ìƒì„ ë¶„ì„í•©ë‹ˆë‹¤!');
                }
            });
        });

        // ê²€ìƒ‰ ì…ë ¥ ì‹œ ì—”í„°í‚¤ ì§€ì›
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchVideos();
            }
        });
    </script>
</body>
</html>