<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏòÅÏÉÅ ÏàòÏßë ÎåÄÏãúÎ≥¥Îìú - ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            color: #333;
        }

        .header {
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 1rem 2rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
        }

        .header h1 {
            color: #1976d2;
            font-size: 1.5rem;
        }

        .nav-tabs {
            margin-top: 1rem;
            display: flex;
            gap: 1rem;
        }

        .tab {
            padding: 0.5rem 1rem;
            border: none;
            background: #e3f2fd;
            border-radius: 20px;
            cursor: pointer;
            transition: background 0.1s;
            font-size: 0.9rem;
        }

        .tab.active {
            background: #1976d2;
            color: white;
        }

        .tab:hover {
            background: #1565c0;
            color: white;
        }

        .main-content {
            margin-top: 140px;
            padding: 2rem;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        .search-section {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .search-grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 1rem;
            align-items: end;
        }

        .search-input {
            padding: 0.75rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
        }

        .search-input:focus {
            outline: none;
            border-color: #1976d2;
        }

        .filter-select {
            padding: 0.75rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
        }

        .search-btn {
            padding: 0.75rem 1.5rem;
            background: #1976d2;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s;
        }

        .search-btn:hover {
            background: #1565c0;
        }

        .stats-bar {
            display: flex;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
            min-width: 120px;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #1976d2;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }

        .content-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .content-tab {
            padding: 1rem 2rem;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.1s;
        }

        .content-tab.active {
            border-color: #1976d2;
            background: #e3f2fd;
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .video-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .thumbnail-container {
            position: relative;
            width: 100%;
            height: 180px;
            overflow: hidden;
        }

        .thumbnail {
            width: 100%;
            height: 100%;
            object-fit: cover;
            loading: lazy;
            background: #f0f0f0;
        }
        
        .thumbnail-placeholder {
            width: 100%;
            height: 180px;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 14px;
        }

        .platform-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
            color: white;
        }

        .youtube { background: #ff0000; }
        .instagram { background: #e4405f; }
        .tiktok { background: #000000; }

        .video-info {
            padding: 1rem;
        }

        .video-title {
            font-size: 1rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .channel-info {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .channel-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }

        .channel-name {
            font-size: 0.9rem;
            color: #666;
        }

        .video-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .category-tag {
            padding: 4px 8px;
            background: #e3f2fd;
            color: #1976d2;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .date {
            font-size: 0.8rem;
            color: #999;
        }

        .keywords {
            margin-bottom: 1rem;
        }

        .keyword-tag {
            display: inline-block;
            padding: 2px 6px;
            background: #f5f5f5;
            border-radius: 8px;
            font-size: 0.7rem;
            margin-right: 0.5rem;
            margin-bottom: 0.25rem;
        }

        .video-actions {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #e0e0e0;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: background 0.1s;
        }

        .action-btn:hover {
            background: #f5f5f5;
        }

        .action-btn.primary {
            background: #1976d2;
            color: white;
            border-color: #1976d2;
        }

        .action-btn.primary:hover {
            background: #1565c0;
        }

        .channel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .channel-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .channel-card:hover {
            box-shadow: 0 6px 16px rgba(0,0,0,0.12);
        }

        .channel-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .channel-avatar-large {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            margin-right: 1rem;
        }

        .channel-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 0.25rem;
        }

        .subscriber-count {
            font-size: 0.9rem;
            color: #666;
        }

        .channel-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #f0f0f0;
        }

        .channel-stat {
            text-align: center;
        }

        .channel-stat-number {
            font-weight: bold;
            color: #1976d2;
        }

        .channel-stat-label {
            font-size: 0.8rem;
            color: #666;
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üé¨ ÏòÅÏÉÅ ÏàòÏßë ÎåÄÏãúÎ≥¥Îìú</h1>
        <div class="nav-tabs">
            <button class="tab active" onclick="showTab('videos')">ÏàòÏßëÎêú ÏòÅÏÉÅ</button>
            <button class="tab" onclick="showTab('trending')">üî• YouTube Ìä∏Î†åÎî©</button>
            <button class="tab" onclick="showTab('channels')">Ï±ÑÎÑê Í¥ÄÎ¶¨</button>
            <button class="tab" onclick="showTab('analytics')">Î∂ÑÏÑù Î¶¨Ìè¨Ìä∏</button>
        </div>
    </div>

    <div class="main-content">
        <!-- ÌÜµÍ≥Ñ Î∞î -->
        <div class="stats-bar">
            <div class="stat-card">
                <div class="stat-number">2,847</div>
                <div class="stat-label">Ï¥ù ÏòÅÏÉÅ</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">187</div>
                <div class="stat-label">Ï±ÑÎÑê Ïàò</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">23</div>
                <div class="stat-label">Ïò§Îäò ÏàòÏßë</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">15</div>
                <div class="stat-label">Ïπ¥ÌÖåÍ≥†Î¶¨</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="quota-remaining">-</div>
                <div class="stat-label">ÎÇ®ÏùÄ Quota</div>
            </div>
            <div class="stat-card" style="cursor: pointer;" onclick="testServerConnection()">
                <div class="stat-number" style="font-size: 1.5rem;">üîå</div>
                <div class="stat-label">ÏÑúÎ≤Ñ Ïó∞Í≤∞ ÌÖåÏä§Ìä∏</div>
            </div>
        </div>

        <!-- Í≤ÄÏÉâ ÏÑπÏÖò -->
        <div class="search-section">
            <div class="search-grid">
                <input type="text" class="search-input" placeholder="ÌÇ§ÏõåÎìú, Ï±ÑÎÑêÎ™Ö, Ï†úÎ™© Í≤ÄÏÉâ..." id="searchInput">
                <select class="filter-select" id="categoryFilter">
                    <option value="">Î™®Îì† Ïπ¥ÌÖåÍ≥†Î¶¨</option>
                    <option value="Í≤åÏûÑ">Í≤åÏûÑ</option>
                    <option value="Î∑∞Ìã∞">Î∑∞Ìã∞</option>
                    <option value="ÏöîÎ¶¨">ÏöîÎ¶¨</option>
                    <option value="Í∏∞Ïà†">Í∏∞Ïà†</option>
                    <option value="ÍµêÏú°">ÍµêÏú°</option>
                </select>
                <select class="filter-select" id="platformFilter">
                    <option value="">Î™®Îì† ÌîåÎû´Ìèº</option>
                    <option value="youtube">YouTube</option>
                    <option value="instagram">Instagram</option>
                    <option value="tiktok">TikTok</option>
                </select>
                <button class="search-btn" onclick="searchVideos()">üîç Í≤ÄÏÉâ</button>
            </div>
        </div>

        <!-- ÏòÅÏÉÅ ÌÉ≠ -->
        <div id="videos-content">
            <div class="content-tabs">
                <div class="content-tab active" onclick="showVideoTab('recent')">ÏµúÏã†Ïàú</div>
                <div class="content-tab" onclick="showVideoTab('popular')">Ïù∏Í∏∞Ïàú</div>
                <div class="content-tab" onclick="showVideoTab('trending')">Ìä∏Î†åÎî©</div>
            </div>

            <div class="video-grid">
                <!-- ÏòÅÏÉÅ Ïπ¥Îìú 1 -->
                <div class="video-card">
                    <div class="thumbnail-container">
                        <div class="thumbnail-placeholder">üìπ Ïç∏ÎÑ§Ïùº Î°úÎî©Ï§ë...</div>
                        <span class="platform-badge youtube">YouTube</span>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">ÏöîÏ¶ò Ìï´Ìïú Í≤åÏûÑ Î¶¨Î∑∞! Ïù¥Í±∞ ÏßÑÏßú Ïû¨Î∞åÎçîÎùº</h3>
                        <div class="channel-info">
                            <div class="channel-avatar" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px;">üë§</div>
                            <span class="channel-name">Í≤åÏûÑÎ¶¨Î∑∞Ïñ¥TV</span>
                        </div>
                        <div class="video-meta">
                            <span class="category-tag">Í≤åÏûÑ</span>
                            <span class="date">2ÏãúÍ∞Ñ Ï†Ñ</span>
                        </div>
                        <div class="keywords">
                            <span class="keyword-tag">Í≤åÏûÑÎ¶¨Î∑∞</span>
                            <span class="keyword-tag">Ïã†Ïûë</span>
                            <span class="keyword-tag">Ï∂îÏ≤ú</span>
                        </div>
                        <div class="video-actions">
                            <button class="action-btn primary">ÏõêÎ≥∏ Î≥¥Í∏∞</button>
                            <button class="action-btn">Ï±ÑÎÑê ÌÉêÏÉâ</button>
                        </div>
                    </div>
                </div>

                <!-- ÏòÅÏÉÅ Ïπ¥Îìú 2 -->
                <div class="video-card">
                    <div class="thumbnail-container">
                        <div class="thumbnail-placeholder">üé¨ ÏòàÏãú Ïç∏ÎÑ§Ïùº</div>
                        <span class="platform-badge instagram">Instagram</span>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">5Î∂ÑÎßåÏóê ÏôÑÏÑ±ÌïòÎäî ÌôàÏπ¥Ìéò ÎîîÏ†ÄÌä∏ Î†àÏãúÌîº</h3>
                        <div class="channel-info">
                            <div class="channel-avatar" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px;">üë§</div>
                            <span class="channel-name">Îã¨ÏΩ§ÌïúÏöîÎ¶¨ÏÇ¨</span>
                        </div>
                        <div class="video-meta">
                            <span class="category-tag">ÏöîÎ¶¨</span>
                            <span class="date">5ÏãúÍ∞Ñ Ï†Ñ</span>
                        </div>
                        <div class="keywords">
                            <span class="keyword-tag">ÎîîÏ†ÄÌä∏</span>
                            <span class="keyword-tag">ÌôàÏπ¥Ìéò</span>
                            <span class="keyword-tag">Í∞ÑÎã®</span>
                        </div>
                        <div class="video-actions">
                            <button class="action-btn primary">ÏõêÎ≥∏ Î≥¥Í∏∞</button>
                            <button class="action-btn">Ï±ÑÎÑê ÌÉêÏÉâ</button>
                        </div>
                    </div>
                </div>

                <!-- ÏòÅÏÉÅ Ïπ¥Îìú 3 -->
                <div class="video-card">
                    <div class="thumbnail-container">
                        <div class="thumbnail-placeholder">üì± ÏòàÏãú Ïç∏ÎÑ§Ïùº</div>
                        <span class="platform-badge tiktok">TikTok</span>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">Ïã†ÏÉÅ Î¶ΩÏä§Ìã± Î∞úÏÉâ ÌÖåÏä§Ìä∏! Ïù¥Í±∞ Î†àÏ†ÑÎìúÎÑ§</h3>
                        <div class="channel-info">
                            <div class="channel-avatar" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px;">üë§</div>
                            <span class="channel-name">Î∑∞Ìã∞Íµ¨Î£®</span>
                        </div>
                        <div class="video-meta">
                            <span class="category-tag">Î∑∞Ìã∞</span>
                            <span class="date">1Ïùº Ï†Ñ</span>
                        </div>
                        <div class="keywords">
                            <span class="keyword-tag">Î¶ΩÏä§Ìã±</span>
                            <span class="keyword-tag">Ïã†ÏÉÅ</span>
                            <span class="keyword-tag">Î¶¨Î∑∞</span>
                        </div>
                        <div class="video-actions">
                            <button class="action-btn primary">ÏõêÎ≥∏ Î≥¥Í∏∞</button>
                            <button class="action-btn">Ï±ÑÎÑê ÌÉêÏÉâ</button>
                        </div>
                    </div>
                </div>

                <!-- ÏòÅÏÉÅ Ïπ¥Îìú 4 -->
                <div class="video-card">
                    <div class="thumbnail-container">
                        <div class="thumbnail-placeholder">üéµ ÏòàÏãú Ïç∏ÎÑ§Ïùº</div>
                        <span class="platform-badge youtube">YouTube</span>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">2024ÎÖÑ Í∞ÄÏû• Ìï´Ìïú ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç Ïñ∏Ïñ¥ TOP 5</h3>
                        <div class="channel-info">
                            <div class="channel-avatar" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px;">üë§</div>
                            <span class="channel-name">ÌÖåÌÅ¨Ïù∏ÏÇ¨Ïù¥Îìú</span>
                        </div>
                        <div class="video-meta">
                            <span class="category-tag">Í∏∞Ïà†</span>
                            <span class="date">2Ïùº Ï†Ñ</span>
                        </div>
                        <div class="keywords">
                            <span class="keyword-tag">ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç</span>
                            <span class="keyword-tag">Í∞úÎ∞ú</span>
                            <span class="keyword-tag">Ìä∏Î†åÎìú</span>
                        </div>
                        <div class="video-actions">
                            <button class="action-btn primary">ÏõêÎ≥∏ Î≥¥Í∏∞</button>
                            <button class="action-btn">Ï±ÑÎÑê ÌÉêÏÉâ</button>
                        </div>
                    </div>
                </div>

                <!-- ÏòÅÏÉÅ Ïπ¥Îìú 5 -->
                <div class="video-card">
                    <div class="thumbnail-container">
                        <div class="thumbnail-placeholder">üè† ÏòàÏãú Ïç∏ÎÑ§Ïùº</div>
                        <span class="platform-badge instagram">Instagram</span>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">Ïö¥Îèô Ï¥àÎ≥¥ÏûêÎ•º ÏúÑÌïú ÌôàÌä∏Î†àÏù¥Îãù Î£®Ìã¥</h3>
                        <div class="channel-info">
                            <div class="channel-avatar" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px;">üë§</div>
                            <span class="channel-name">ÌôàÌä∏Î†àÏù¥ÎÑà</span>
                        </div>
                        <div class="video-meta">
                            <span class="category-tag">Ïö¥Îèô</span>
                            <span class="date">3Ïùº Ï†Ñ</span>
                        </div>
                        <div class="keywords">
                            <span class="keyword-tag">ÌôàÌä∏</span>
                            <span class="keyword-tag">Ï¥àÎ≥¥</span>
                            <span class="keyword-tag">Î£®Ìã¥</span>
                        </div>
                        <div class="video-actions">
                            <button class="action-btn primary">ÏõêÎ≥∏ Î≥¥Í∏∞</button>
                            <button class="action-btn">Ï±ÑÎÑê ÌÉêÏÉâ</button>
                        </div>
                    </div>
                </div>

                <!-- ÏòÅÏÉÅ Ïπ¥Îìú 6 -->
                <div class="video-card">
                    <div class="thumbnail-container">
                        <div class="thumbnail-placeholder">üíÑ ÏòàÏãú Ïç∏ÎÑ§Ïùº</div>
                        <span class="platform-badge youtube">YouTube</span>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">Ï£ºÏãù Ìà¨Ïûê Ï†Ñ Î∞òÎìúÏãú ÏïåÏïÑÏïº Ìï† 5Í∞ÄÏßÄ</h3>
                        <div class="channel-info">
                            <img src="https://picsum.photos/48/48?random=14" alt="Ï±ÑÎÑê" class="channel-avatar">
                            <span class="channel-name">Ìà¨ÏûêÏùòÏã†</span>
                        </div>
                        <div class="video-meta">
                            <span class="category-tag">Í≤ΩÏ†ú</span>
                            <span class="date">4Ïùº Ï†Ñ</span>
                        </div>
                        <div class="keywords">
                            <span class="keyword-tag">Ìà¨Ïûê</span>
                            <span class="keyword-tag">Ï£ºÏãù</span>
                            <span class="keyword-tag">ÌåÅ</span>
                        </div>
                        <div class="video-actions">
                            <button class="action-btn primary">ÏõêÎ≥∏ Î≥¥Í∏∞</button>
                            <button class="action-btn">Ï±ÑÎÑê ÌÉêÏÉâ</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- YouTube Ìä∏Î†åÎî© ÏÑπÏÖò -->
        <div id="trending-content" class="hidden">
            <div class="section-header">
                <h2>üî• YouTube Ìä∏Î†åÎî© ÏòÅÏÉÅ</h2>
                <p>ÏµúÍ∑º 7ÏùºÍ∞Ñ Ï°∞ÌöåÏàò ÎÜíÏùÄ ÏòÅÏÉÅÎì§ÏùÑ Ïã§ÏãúÍ∞ÑÏúºÎ°ú ÏàòÏßëÌï©ÎãàÎã§</p>
            </div>

            <div class="action-bar">
                <button onclick="collectTrendingVideos()" class="btn-primary">
                    üìä ÏµúÏã† Ìä∏Î†åÎìú ÏàòÏßë
                </button>
                <button onclick="loadTrendingData()" class="btn-secondary">
                    üîÑ Ìä∏Î†åÎî© Îç∞Ïù¥ÌÑ∞ ÏÉàÎ°úÍ≥†Ïπ®
                </button>
            </div>

            <!-- Ìä∏Î†åÎî© ÏòÅÏÉÅ Í∑∏Î¶¨Îìú -->
            <div id="trending-video-grid" class="video-grid">
                <div class="placeholder-message">
                    <h3>üîç Ìä∏Î†åÎî© ÏòÅÏÉÅÏùÑ ÏàòÏßëÌï¥Î≥¥ÏÑ∏Ïöî</h3>
                    <p>ÏúÑÏùò "ÏµúÏã† Ìä∏Î†åÎìú ÏàòÏßë" Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠ÌïòÎ©¥ YouTubeÏóêÏÑú Í∞ÄÏû• Ïù∏Í∏∞ ÏûàÎäî ÏòÅÏÉÅÎì§ÏùÑ Í∞ÄÏ†∏ÏòµÎãàÎã§</p>
                </div>
            </div>
        </div>

        <!-- Ï±ÑÎÑê ÌÉ≠ -->
        <div id="channels-content" class="hidden">
            <div class="content-tabs">
                <div class="content-tab active" onclick="showChannelTab('all')">Ï†ÑÏ≤¥ Ï±ÑÎÑê</div>
                <div class="content-tab" onclick="showChannelTab('game')">Í≤åÏûÑ (45)</div>
                <div class="content-tab" onclick="showChannelTab('beauty')">Î∑∞Ìã∞ (28)</div>
                <div class="content-tab" onclick="showChannelTab('cooking')">ÏöîÎ¶¨ (31)</div>
                <div class="content-tab" onclick="showChannelTab('tech')">Í∏∞Ïà† (22)</div>
            </div>

            <div class="channel-grid">
                <!-- Ï±ÑÎÑê Ïπ¥Îìú 1 -->
                <div class="channel-card">
                    <div class="channel-header">
                        <div class="channel-avatar-large" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px;">üéÆ</div>
                        <div>
                            <div class="channel-title">Í≤åÏûÑÎ¶¨Î∑∞Ïñ¥TV</div>
                            <div class="subscriber-count">128Îßå Íµ¨ÎèÖÏûê</div>
                            <span class="category-tag">Í≤åÏûÑ</span>
                        </div>
                    </div>
                    <div class="channel-stats">
                        <div class="channel-stat">
                            <div class="channel-stat-number">47</div>
                            <div class="channel-stat-label">ÏàòÏßëÎêú ÏòÅÏÉÅ</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">23</div>
                            <div class="channel-stat-label">Ïù¥Î≤à Îã¨</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">üî•</div>
                            <div class="channel-stat-label">Ìä∏Î†åÎî©</div>
                        </div>
                    </div>
                    <div class="video-actions">
                        <button class="action-btn primary">ÏàòÏßë ÏòÅÏÉÅ Î≥¥Í∏∞</button>
                        <button class="action-btn" onclick="collectChannelTrending('UCXuqSBlHAE6Xw-yeJA0Tunw')">ÏµúÏã† Ìä∏Î†åÎìú ÌôïÏù∏</button>
                    </div>
                </div>

                <!-- Ï±ÑÎÑê Ïπ¥Îìú 2 -->
                <div class="channel-card">
                    <div class="channel-header">
                        <div class="channel-avatar-large" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px;">üíÑ</div>
                        <div>
                            <div class="channel-title">Îã¨ÏΩ§ÌïúÏöîÎ¶¨ÏÇ¨</div>
                            <div class="subscriber-count">89Îßå Íµ¨ÎèÖÏûê</div>
                            <span class="category-tag">ÏöîÎ¶¨</span>
                        </div>
                    </div>
                    <div class="channel-stats">
                        <div class="channel-stat">
                            <div class="channel-stat-number">32</div>
                            <div class="channel-stat-label">ÏàòÏßëÎêú ÏòÅÏÉÅ</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">18</div>
                            <div class="channel-stat-label">Ïù¥Î≤à Îã¨</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">üìà</div>
                            <div class="channel-stat-label">ÏÑ±Ïû•Ï§ë</div>
                        </div>
                    </div>
                    <div class="video-actions">
                        <button class="action-btn primary">ÏàòÏßë ÏòÅÏÉÅ Î≥¥Í∏∞</button>
                        <button class="action-btn" onclick="collectChannelTrending('UCXuqSBlHAE6Xw-yeJA0Tunw')">ÏµúÏã† Ìä∏Î†åÎìú ÌôïÏù∏</button>
                    </div>
                </div>

                <!-- Ï±ÑÎÑê Ïπ¥Îìú 3 -->
                <div class="channel-card">
                    <div class="channel-header">
                        <div class="channel-avatar-large" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px;">üç≥</div>
                        <div>
                            <div class="channel-title">Î∑∞Ìã∞Íµ¨Î£®</div>
                            <div class="subscriber-count">156Îßå Íµ¨ÎèÖÏûê</div>
                            <span class="category-tag">Î∑∞Ìã∞</span>
                        </div>
                    </div>
                    <div class="channel-stats">
                        <div class="channel-stat">
                            <div class="channel-stat-number">61</div>
                            <div class="channel-stat-label">ÏàòÏßëÎêú ÏòÅÏÉÅ</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">29</div>
                            <div class="channel-stat-label">Ïù¥Î≤à Îã¨</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">‚≠ê</div>
                            <div class="channel-stat-label">Ïù∏Í∏∞</div>
                        </div>
                    </div>
                    <div class="video-actions">
                        <button class="action-btn primary">ÏàòÏßë ÏòÅÏÉÅ Î≥¥Í∏∞</button>
                        <button class="action-btn" onclick="collectChannelTrending('UCXuqSBlHAE6Xw-yeJA0Tunw')">ÏµúÏã† Ìä∏Î†åÎìú ÌôïÏù∏</button>
                    </div>
                </div>

                <!-- Ï±ÑÎÑê Ïπ¥Îìú 4 -->
                <div class="channel-card">
                    <div class="channel-header">
                        <div class="channel-avatar-large" style="background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px;">üíª</div>
                        <div>
                            <div class="channel-title">ÌÖåÌÅ¨Ïù∏ÏÇ¨Ïù¥Îìú</div>
                            <div class="subscriber-count">73Îßå Íµ¨ÎèÖÏûê</div>
                            <span class="category-tag">Í∏∞Ïà†</span>
                        </div>
                    </div>
                    <div class="channel-stats">
                        <div class="channel-stat">
                            <div class="channel-stat-number">28</div>
                            <div class="channel-stat-label">ÏàòÏßëÎêú ÏòÅÏÉÅ</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">12</div>
                            <div class="channel-stat-label">Ïù¥Î≤à Îã¨</div>
                        </div>
                        <div class="channel-stat">
                            <div class="channel-stat-number">üöÄ</div>
                            <div class="channel-stat-label">Ïã†Í∑ú</div>
                        </div>
                    </div>
                    <div class="video-actions">
                        <button class="action-btn primary">ÏàòÏßë ÏòÅÏÉÅ Î≥¥Í∏∞</button>
                        <button class="action-btn" onclick="collectChannelTrending('UCXuqSBlHAE6Xw-yeJA0Tunw')">ÏµúÏã† Ìä∏Î†åÎìú ÌôïÏù∏</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Î∂ÑÏÑù ÌÉ≠ -->
        <div id="analytics-content" class="hidden">
            <div style="text-align: center; padding: 4rem; color: #666;">
                <h2>üìä Î∂ÑÏÑù Î¶¨Ìè¨Ìä∏</h2>
                <p>Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ Ìä∏Î†åÎìú, Ï±ÑÎÑê ÏÑ±Ïû•Î•†, ÌÇ§ÏõåÎìú Î∂ÑÏÑù Îì±Ïù¥ ÌëúÏãúÎê©ÎãàÎã§.</p>
                <div style="margin-top: 2rem; display: grid; grid-template-columns: repeat(2, 1fr); gap: 2rem; max-width: 600px; margin: 2rem auto;">
                    <div class="stat-card" style="padding: 2rem;">
                        <div class="stat-number">15%</div>
                        <div class="stat-label">Ïù¥Î≤à Îã¨ Ï¶ùÍ∞ÄÏú®</div>
                    </div>
                    <div class="stat-card" style="padding: 2rem;">
                        <div class="stat-number">Í≤åÏûÑ</div>
                        <div class="stat-label">Í∞ÄÏû• Ïù∏Í∏∞ Ïπ¥ÌÖåÍ≥†Î¶¨</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // API ÏÑúÎ≤Ñ Í∏∞Î≥∏ URL
        const API_BASE_URL = 'http://localhost:3000';

        // API Ìó¨Ìçº Ìï®ÏàòÎì§
        const API = {
            // ÏÑúÎ≤Ñ ÏÉÅÌÉú ÌôïÏù∏
            async checkHealth() {
                try {
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 5000); // 5Ï¥à ÌÉÄÏûÑÏïÑÏõÉ
                    
                    const response = await fetch(`${API_BASE_URL}/health`, {
                        signal: controller.signal
                    });
                    clearTimeout(timeoutId);
                    return await response.json();
                } catch (error) {
                    console.error('ÏÑúÎ≤Ñ Ïó∞Í≤∞ Ïã§Ìå®:', error);
                    return null;
                }
            },

            // ÌÜµÍ≥Ñ Ï†ïÎ≥¥ Ï°∞Ìöå
            async getStats() {
                try {
                    const response = await fetch(`${API_BASE_URL}/api/stats`);
                    return await response.json();
                } catch (error) {
                    console.error('ÌÜµÍ≥Ñ Ï°∞Ìöå Ïã§Ìå®:', error);
                    return null;
                }
            },

            // YouTube API Quota ÌòÑÌô©
            async getQuotaStatus() {
                try {
                    const response = await fetch(`${API_BASE_URL}/api/quota-status`);
                    return await response.json();
                } catch (error) {
                    console.error('Quota ÏÉÅÌÉú Ï°∞Ìöå Ïã§Ìå®:', error);
                    return null;
                }
            },

            // Ìä∏Î†åÎî© ÏàòÏßë ÌÜµÍ≥Ñ
            async getTrendingStats() {
                try {
                    const response = await fetch(`${API_BASE_URL}/api/trending-stats`);
                    return await response.json();
                } catch (error) {
                    console.error('Ìä∏Î†åÎî© ÌÜµÍ≥Ñ Ï°∞Ìöå Ïã§Ìå®:', error);
                    return null;
                }
            },

            // Ï±ÑÎÑêÎ≥Ñ Ìä∏Î†åÎî© ÏòÅÏÉÅ ÏàòÏßë
            async collectTrending(channelIds, options = {}) {
                try {
                    const response = await fetch(`${API_BASE_URL}/api/collect-trending`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            channelIds,
                            options: {
                                daysBack: options.daysBack || 7,
                                minViewCount: options.minViewCount || 10000,
                                maxResults: options.maxResults || 10
                            }
                        })
                    });
                    return await response.json();
                } catch (error) {
                    console.error('Ìä∏Î†åÎî© ÏàòÏßë Ïã§Ìå®:', error);
                    return null;
                }
            },

            // ÏàòÏßëÎêú ÏòÅÏÉÅ Î™©Î°ù Ï°∞Ìöå
            async getVideos() {
                try {
                    const response = await fetch(`${API_BASE_URL}/api/videos`);
                    return await response.json();
                } catch (error) {
                    console.error('ÏòÅÏÉÅ Î™©Î°ù Ï°∞Ìöå Ïã§Ìå®:', error);
                    return null;
                }
            }
        };

        // UI ÏóÖÎç∞Ïù¥Ìä∏ Ìó¨Ìçº Ìï®ÏàòÎì§
        const UI = {
            // ÌÜµÍ≥Ñ Ïπ¥Îìú ÏóÖÎç∞Ïù¥Ìä∏
            updateStatsBar(stats, quotaInfo = null) {
                const statCards = document.querySelectorAll('.stat-number');
                if (stats && statCards.length >= 5) {
                    statCards[0].textContent = stats.total || '0';
                    statCards[1].textContent = '187'; // Ï±ÑÎÑê Ïàò (ÌïòÎìúÏΩîÎî©)
                    statCards[2].textContent = stats.today || '0';
                    statCards[3].textContent = '15'; // Ïπ¥ÌÖåÍ≥†Î¶¨ (ÌïòÎìúÏΩîÎî©)
                }
                
                // Quota Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏
                const quotaElement = document.getElementById('quota-remaining');
                if (quotaInfo && quotaElement) {
                    const remaining = quotaInfo.quota?.remaining || 0;
                    quotaElement.textContent = remaining.toLocaleString();
                    
                    // ÏÉâÏÉÅ Î≥ÄÍ≤Ω (ÎÇ®ÏùÄ ÏñëÏóê Îî∞Îùº)
                    if (remaining < 1000) {
                        quotaElement.style.color = '#f44336'; // Îπ®Í∞ÑÏÉâ
                    } else if (remaining < 3000) {
                        quotaElement.style.color = '#ff9800'; // Ï£ºÌô©ÏÉâ
                    } else {
                        quotaElement.style.color = '#1976d2'; // ÌååÎûÄÏÉâ
                    }
                }
            },

            // Î°úÎî© ÏÉÅÌÉú ÌëúÏãú
            showLoading(message = 'Î°úÎî© Ï§ë...') {
                // Í∞ÑÎã®Ìïú Î°úÎî© ÌëúÏãú (ÎÇòÏ§ëÏóê Í∞úÏÑ† Í∞ÄÎä•)
                console.log('üîÑ', message);
            },

            // ÏóêÎü¨ Î©îÏãúÏßÄ ÌëúÏãú
            showError(message) {
                alert(`‚ùå Ïò§Î•ò: ${message}`);
            },

            // ÏÑ±Í≥µ Î©îÏãúÏßÄ ÌëúÏãú
            showSuccess(message) {
                alert(`‚úÖ ÏÑ±Í≥µ: ${message}`);
            }
        };

        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ï¶âÏãú ÏôÑÎ£å (API Ìò∏Ï∂ú ÏóÜÏùå)
        window.addEventListener('DOMContentLoaded', () => {
            console.log('üöÄ ÎåÄÏãúÎ≥¥Îìú Î°úÎî© ÏôÑÎ£å!');
            console.log('üí° Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠Ìï¥ÏÑú API Í∏∞Îä•ÏùÑ ÌÖåÏä§Ìä∏ÌïòÏÑ∏Ïöî.');
            
            // API Ìò∏Ï∂ú ÏôÑÏ†ÑÌûà Ï†úÍ±∞ - ÌïÑÏöîÏãúÏóêÎßå ÏàòÎèô Ìò∏Ï∂ú
        });

        // Î∞±Í∑∏ÎùºÏö¥Îìú ÏÑúÎ≤Ñ ÌôïÏù∏ (ÌéòÏù¥ÏßÄ Î°úÎî© Ï∞®Îã® ÏïàÌï®)
        async function checkServerInBackground() {
            try {
                const response = await fetch('http://localhost:3000/health', {
                    signal: AbortSignal.timeout(2000) // 2Ï¥à ÌÉÄÏûÑÏïÑÏõÉ
                });
                
                if (response.ok) {
                    console.log('‚úÖ ÏÑúÎ≤Ñ Ïó∞Í≤∞ ÌôïÏù∏Îê® - Í∏∞Îä• ÌôúÏÑ±Ìôî');
                    quickLoadQuota();
                } else {
                    console.log('‚ö†Ô∏è ÏÑúÎ≤Ñ ÏùëÎãµ Ïò§Î•ò');
                }
            } catch (error) {
                console.log('üì¥ ÏÑúÎ≤Ñ Ïò§ÌîÑÎùºÏù∏ - ÏàòÎèô Î™®Îìú');
            }
        }

        // Îπ†Î•∏ Quota Î°úÎìú
        async function quickLoadQuota() {
            try {
                const response = await fetch('http://localhost:3000/api/quota-status', {
                    signal: AbortSignal.timeout(3000)
                });
                const data = await response.json();
                
                const quotaElement = document.getElementById('quota-remaining');
                if (quotaElement && data.data?.quota?.remaining) {
                    quotaElement.textContent = data.data.quota.remaining.toLocaleString();
                    quotaElement.style.color = '#1976d2';
                    console.log('üìä Quota ÏóÖÎç∞Ïù¥Ìä∏:', data.data.quota.remaining);
                }
            } catch (error) {
                console.log('‚ö†Ô∏è Quota Î°úÎìú Ïã§Ìå®');
            }
        }

        // Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú
        async function loadInitialData() {
            UI.showLoading('ÌÜµÍ≥Ñ Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ï§ë...');
            
            // Î≥ëÎ†¨Î°ú Îç∞Ïù¥ÌÑ∞ Î°úÎìú
            const [stats, quotaStatus] = await Promise.all([
                API.getStats(),
                API.getQuotaStatus()
            ]);

            // ÌÜµÍ≥Ñ Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏ (Quota Ìè¨Ìï®)
            if (stats || quotaStatus) {
                UI.updateStatsBar(
                    stats?.data,
                    quotaStatus?.data
                );
            }

            if (quotaStatus) {
                console.log('üìä YouTube API Quota:', quotaStatus.data.quota);
            }
            
            console.log('‚úÖ Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú ÏôÑÎ£å');
        }

        // ÏïàÏ†ÑÌïú Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú (ÌÉÄÏûÑÏïÑÏõÉ Ï†ÅÏö©)
        async function loadInitialDataSafe() {
            console.log('üìä ÏïàÏ†ÑÌïú Ï¥àÍ∏∞Ìôî ÏãúÏûë...');
            
            try {
                // Í∞ÑÎã®Ìïú ÌÜµÍ≥Ñ Î°úÎìú (ÌÉÄÏûÑÏïÑÏõÉ 5Ï¥à)
                const controller = new AbortController();
                setTimeout(() => controller.abort(), 5000);
                
                const quotaResponse = await fetch('http://localhost:3000/api/quota-status', {
                    signal: controller.signal
                });
                
                if (quotaResponse.ok) {
                    const quotaData = await quotaResponse.json();
                    console.log('üìä Quota Îç∞Ïù¥ÌÑ∞ Î°úÎìú ÏÑ±Í≥µ:', quotaData.data?.quota);
                    
                    // Quota Ï†ïÎ≥¥Îßå ÏóÖÎç∞Ïù¥Ìä∏
                    const quotaElement = document.getElementById('quota-remaining');
                    if (quotaElement && quotaData.data?.quota?.remaining) {
                        quotaElement.textContent = quotaData.data.quota.remaining.toLocaleString();
                        quotaElement.style.color = '#1976d2';
                    }
                }
            } catch (error) {
                console.log('‚ö†Ô∏è ÏùºÎ∂Ä Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', error.message);
            }
            
            console.log('‚úÖ ÏïàÏ†ÑÌïú Ï¥àÍ∏∞Ìôî ÏôÑÎ£å');
        }

        // Ïò§ÌîÑÎùºÏù∏ Î™®Îìú ÌëúÏãú
        function showOfflineMode() {
            const quotaElement = document.getElementById('quota-remaining');
            if (quotaElement) {
                quotaElement.textContent = 'offline';
                quotaElement.style.color = '#f44336';
            }
            console.log('üì¥ Ïò§ÌîÑÎùºÏù∏ Î™®ÎìúÎ°ú ÎèôÏûë Ï§ë');
        }

        // ÏàòÎèô ÏÑúÎ≤Ñ Ïó∞Í≤∞ ÌÖåÏä§Ìä∏
        async function testServerConnection() {
            const button = event.target.closest('.stat-card');
            button.style.opacity = '0.5';
            
            try {
                console.log('üîå ÏÑúÎ≤Ñ Ïó∞Í≤∞ ÌÖåÏä§Ìä∏ ÏãúÏûë...');
                const response = await fetch('http://localhost:3000/health');
                const data = await response.json();
                
                console.log('‚úÖ ÏÑúÎ≤Ñ Ïó∞Í≤∞ ÏÑ±Í≥µ:', data);
                alert(`‚úÖ ÏÑúÎ≤Ñ Ïó∞Í≤∞ ÏÑ±Í≥µ!\nÏÉÅÌÉú: ${data.status}\nÎ≤ÑÏ†Ñ: ${data.version}\nGemini: ${data.useGemini ? 'ÌôúÏÑ±' : 'ÎπÑÌôúÏÑ±'}`);
                
                // Quota Ï†ïÎ≥¥ Î°úÎìú
                quickLoadQuota();
                
            } catch (error) {
                console.log('‚ùå ÏÑúÎ≤Ñ Ïó∞Í≤∞ Ïã§Ìå®:', error);
                alert(`‚ùå ÏÑúÎ≤Ñ Ïó∞Í≤∞ Ïã§Ìå®\n\nÏò§Î•ò: ${error.message}\n\nÌôïÏù∏ÏÇ¨Ìï≠:\n- localhost:3000 ÏÑúÎ≤ÑÍ∞Ä Ïã§Ìñâ Ï§ëÏù∏Í∞ÄÏöî?\n- Î∞©ÌôîÎ≤ΩÏù¥ Ï∞®Îã®ÌïòÍ≥† ÏûàÏßÄ ÏïäÎÇòÏöî?`);
            } finally {
                button.style.opacity = '1';
            }
        }

        function showTab(tabName) {
            // ÌÉ≠ Î≤ÑÌäº ÌôúÏÑ±Ìôî
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');

            // ÏΩòÌÖêÏ∏† ÌëúÏãú/Ïà®ÍπÄ
            document.getElementById('videos-content').classList.toggle('hidden', tabName !== 'videos');
            document.getElementById('trending-content').classList.toggle('hidden', tabName !== 'trending');
            document.getElementById('channels-content').classList.toggle('hidden', tabName !== 'channels');
            document.getElementById('analytics-content').classList.toggle('hidden', tabName !== 'analytics');
        }

        async function showVideoTab(type) {
            document.querySelectorAll('.content-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            if (type === 'trending') {
                // Ìä∏Î†åÎî© ÌÉ≠ - Ïã§Ï†ú Îç∞Ïù¥ÌÑ∞ Î°úÎìú
                await loadTrendingData();
            } else if (type === 'recent') {
                // ÏµúÏã†Ïàú ÌÉ≠ - ÏàòÏßëÎêú ÏòÅÏÉÅ Îç∞Ïù¥ÌÑ∞ Î°úÎìú
                await loadRecentVideos();
            } else if (type === 'popular') {
                // Ïù∏Í∏∞Ïàú ÌÉ≠ - Ï°∞ÌöåÏàò Í∏∞Ï§Ä Ï†ïÎ†¨
                await loadPopularVideos();
            }
            
            console.log('ÏòÅÏÉÅ ÌÉ≠ Î≥ÄÍ≤Ω:', type);
        }

        // Ìä∏Î†åÎî© Îç∞Ïù¥ÌÑ∞ Î°úÎìú
        async function loadTrendingData() {
            UI.showLoading('Ìä∏Î†åÎî© Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ï§ë...');
            
            try {
                const trendingStats = await API.getTrendingStats();
                if (trendingStats && trendingStats.success) {
                    console.log('üìà Ìä∏Î†åÎî© Îç∞Ïù¥ÌÑ∞:', trendingStats.data);
                    
                    // Ìä∏Î†åÎî© ÌÜµÍ≥ÑÍ∞Ä ÏûàÏúºÎ©¥ UI ÏóÖÎç∞Ïù¥Ìä∏
                    if (trendingStats.data.stats && trendingStats.data.stats.length > 0) {
                        updateVideoGridWithTrending(trendingStats.data.stats);
                        UI.showSuccess(`Ìä∏Î†åÎî© Îç∞Ïù¥ÌÑ∞ Î°úÎìú ÏôÑÎ£å! ${trendingStats.data.stats.length}Í∞ú ÏàòÏßë Í∏∞Î°ù`);
                    } else {
                        showNoTrendingDataMessage();
                    }
                } else {
                    showNoTrendingDataMessage();
                }
            } catch (error) {
                console.error('Ìä∏Î†åÎî© Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', error);
                UI.showError('Ìä∏Î†åÎî© Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.');
            }
        }

        // ÏµúÏã† ÏòÅÏÉÅ Îç∞Ïù¥ÌÑ∞ Î°úÎìú
        async function loadRecentVideos() {
            UI.showLoading('ÏµúÏã† ÏòÅÏÉÅ Î°úÎìú Ï§ë...');
            
            try {
                const videos = await API.getVideos();
                if (videos && videos.success) {
                    console.log('üìπ ÏµúÏã† ÏòÅÏÉÅ:', videos);
                    // Ïó¨Í∏∞ÏÑú Ïã§Ï†ú ÏòÅÏÉÅ Îç∞Ïù¥ÌÑ∞Î°ú UI ÏóÖÎç∞Ïù¥Ìä∏ Í∞ÄÎä•
                } else {
                    console.log('ÏµúÏã† ÏòÅÏÉÅ Îç∞Ïù¥ÌÑ∞ ÏóÜÏùå');
                }
            } catch (error) {
                console.error('ÏµúÏã† ÏòÅÏÉÅ Î°úÎìú Ïã§Ìå®:', error);
            }
        }

        // Ïù∏Í∏∞ ÏòÅÏÉÅ Îç∞Ïù¥ÌÑ∞ Î°úÎìú
        async function loadPopularVideos() {
            UI.showLoading('Ïù∏Í∏∞ ÏòÅÏÉÅ Î°úÎìú Ï§ë...');
            console.log('Ïù∏Í∏∞Ïàú Ï†ïÎ†¨ (Íµ¨ÌòÑ ÏòàÏ†ï)');
        }

        // Ìä∏Î†åÎî© Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏùÑ Îïå Î©îÏãúÏßÄ ÌëúÏãú
        function showNoTrendingDataMessage() {
            const videoGrid = document.querySelector('.video-grid');
            videoGrid.innerHTML = `
                <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; background: white; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <h3 style="color: #666; margin-bottom: 1rem;">üìä Ìä∏Î†åÎî© Îç∞Ïù¥ÌÑ∞Í∞Ä ÏïÑÏßÅ ÏóÜÏäµÎãàÎã§</h3>
                    <p style="color: #999; margin-bottom: 2rem;">Ï±ÑÎÑê Í¥ÄÎ¶¨ ÌÉ≠ÏóêÏÑú Ìä∏Î†åÎî© ÏòÅÏÉÅ ÏàòÏßëÏùÑ ÏãúÏûëÌï¥Î≥¥ÏÑ∏Ïöî!</p>
                    <button onclick="showTab('channels')" style="padding: 0.75rem 1.5rem; background: #1976d2; color: white; border: none; border-radius: 8px; cursor: pointer;">
                        üì∫ Ï±ÑÎÑê Í¥ÄÎ¶¨Î°ú Ïù¥Îèô
                    </button>
                </div>
            `;
        }

        // Ìä∏Î†åÎî© Îç∞Ïù¥ÌÑ∞Î°ú Ïã§Ï†ú YouTube ÏòÅÏÉÅ ÌëúÏãú
        function updateVideoGridWithTrending(stats) {
            const videoGrid = document.getElementById('trending-video-grid');
            
            // Í∞ÄÏû• ÏµúÍ∑º ÏàòÏßë Í∏∞Î°ùÏóêÏÑú Ïã§Ï†ú ÏòÅÏÉÅÎì§ Í∞ÄÏ†∏Ïò§Í∏∞
            const latestCollection = stats[stats.length - 1];
            
            if (!latestCollection || !latestCollection.videos || latestCollection.videos.length === 0) {
                // ÏòÅÏÉÅ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏúºÎ©¥ ÌÜµÍ≥ÑÎßå ÌëúÏãú
                showTrendingStatsOnly(stats);
                return;
            }

            const videos = latestCollection.videos;
            const date = new Date(latestCollection.timestamp).toLocaleDateString('ko-KR');
            
            let html = `
                <div style="grid-column: 1 / -1; text-align: center; padding: 2rem; background: white; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                    <h3 style="color: #1976d2; margin-bottom: 1rem;">üî• ÏµúÏã† Ìä∏Î†åÎî© ÏòÅÏÉÅ (${date})</h3>
                    <p style="color: #666;">${videos.length}Í∞úÏùò Ìä∏Î†åÎî© ÏòÅÏÉÅ ‚Ä¢ Ìï†ÎãπÎüâ: ${latestCollection.quotaUsed} units</p>
                </div>
            `;
            
            // Ïã§Ï†ú YouTube ÏòÅÏÉÅÎì§ÏùÑ Ïπ¥ÎìúÎ°ú ÌëúÏãú
            videos.forEach((video, index) => {
                const videoId = video.id;
                const title = video.snippet?.title || 'Ï†úÎ™© ÏóÜÏùå';
                const channelTitle = video.snippet?.channelTitle || 'Ï±ÑÎÑê ÏóÜÏùå';
                const publishedAt = new Date(video.snippet?.publishedAt).toLocaleDateString('ko-KR');
                const viewCount = parseInt(video.statistics?.viewCount || 0);
                const likeCount = parseInt(video.statistics?.likeCount || 0);
                
                // YouTube Ïç∏ÎÑ§Ïùº URL
                const thumbnailUrl = video.snippet?.thumbnails?.maxresdefault?.url || 
                                   video.snippet?.thumbnails?.high?.url || 
                                   `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`;
                
                // YouTube ÏòÅÏÉÅ URL
                const videoUrl = `https://www.youtube.com/watch?v=${videoId}`;
                
                html += `
                    <div class="video-card">
                        <div class="thumbnail-container">
                            <img src="${thumbnailUrl}" alt="Ïç∏ÎÑ§Ïùº" class="thumbnail" 
                                 onerror="this.src='https://img.youtube.com/vi/${videoId}/hqdefault.jpg'">
                            <span class="platform-badge youtube">YouTube</span>
                            <div style="position: absolute; bottom: 8px; right: 8px; background: rgba(0,0,0,0.8); color: white; padding: 4px 8px; border-radius: 4px; font-size: 0.7rem;">
                                ${viewCount.toLocaleString()}Ìöå
                            </div>
                        </div>
                        <div class="video-info">
                            <h3 class="video-title">${title}</h3>
                            <div class="channel-info">
                                <div style="width: 24px; height: 24px; background: #ff0000; border-radius: 50%; margin-right: 0.5rem; display: flex; align-items: center; justify-content: center; color: white; font-size: 0.7rem;">‚ñ∂</div>
                                <span class="channel-name">${channelTitle}</span>
                            </div>
                            <div class="video-meta">
                                <span class="category-tag">Ìä∏Î†åÎî© #${index + 1}</span>
                                <span class="date">${publishedAt}</span>
                            </div>
                            <div class="keywords">
                                <span class="keyword-tag">üëÄ ${viewCount.toLocaleString()}</span>
                                ${likeCount > 0 ? `<span class="keyword-tag">üëç ${likeCount.toLocaleString()}</span>` : ''}
                                <span class="keyword-tag">üî• Ìä∏Î†åÎî©</span>
                            </div>
                            <div class="video-actions">
                                <button class="action-btn primary" onclick="window.open('${videoUrl}', '_blank')">
                                    ‚ñ∂ ÏòÅÏÉÅ Î≥¥Í∏∞
                                </button>
                                <button class="action-btn" onclick="copyToClipboard('${videoUrl}')">
                                    üîó ÎßÅÌÅ¨ Î≥µÏÇ¨
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            videoGrid.innerHTML = html;
        }

        // ÌÜµÍ≥ÑÎßå ÌëúÏãúÌïòÎäî Ìï®Ïàò (Ïã§Ï†ú ÏòÅÏÉÅÏù¥ ÏóÜÏùÑ Îïå)
        function showTrendingStatsOnly(stats) {
            const videoGrid = document.querySelector('.video-grid');
            
            let html = `
                <div style="grid-column: 1 / -1; text-align: center; padding: 2rem; background: white; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                    <h3 style="color: #1976d2; margin-bottom: 1rem;">üìà Ìä∏Î†åÎî© ÏàòÏßë ÌÜµÍ≥Ñ</h3>
                    <p style="color: #666;">Ï¥ù ${stats.length}Í∞úÏùò Ìä∏Î†åÎî© ÏàòÏßë Í∏∞Î°ùÏù¥ ÏûàÏäµÎãàÎã§.</p>
                    <p style="color: #999; font-size: 0.9rem;">Ïã§Ï†ú ÏòÅÏÉÅÏùÑ Î≥¥Î†§Î©¥ ÏÉàÎ°úÏö¥ Ìä∏Î†åÎî© ÏàòÏßëÏùÑ Ïã§ÌñâÌïòÏÑ∏Ïöî.</p>
                </div>
            `;
            
            videoGrid.innerHTML = html;
        }

        // ÎßÅÌÅ¨ Î≥µÏÇ¨ Í∏∞Îä•
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('‚úÖ ÎßÅÌÅ¨Í∞Ä ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!');
            }).catch(err => {
                console.error('ÎßÅÌÅ¨ Î≥µÏÇ¨ Ïã§Ìå®:', err);
                alert('‚ùå ÎßÅÌÅ¨ Î≥µÏÇ¨Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.');
            });
        }

        // Ï±ÑÎÑêÎ≥Ñ Ìä∏Î†åÎî© ÏàòÏßë Ïã§Ìñâ
        async function collectChannelTrending(channelId, channelName = 'ÏÑ†ÌÉùÎêú Ï±ÑÎÑê') {
            // ÌôïÏù∏ ÎåÄÌôîÏÉÅÏûê
            const confirmed = confirm(`${channelName}Ïùò ÏµúÏã† Ìä∏Î†åÎî© ÏòÅÏÉÅÏùÑ ÏàòÏßëÌïòÏãúÍ≤†ÏäµÎãàÍπå?\n\n- ÏµúÍ∑º 7ÏùºÍ∞Ñ ÏòÅÏÉÅ ÏàòÏßë\n- ÏµúÏÜå 50,000 Ï°∞ÌöåÏàò Ïù¥ÏÉÅ\n- ÏµúÎåÄ 8Í∞ú ÏòÅÏÉÅ\n- YouTube API Ìï†ÎãπÎüâ ÏïΩ 110 units ÏÜåÎ™®`);
            
            if (!confirmed) return;

            UI.showLoading(`${channelName} Ìä∏Î†åÎî© ÏàòÏßë Ï§ë...`);

            try {
                const result = await API.collectTrending([channelId], {
                    daysBack: 7,
                    minViewCount: 50000,
                    maxResults: 8
                });

                if (result && result.success) {
                    console.log('üéØ Ìä∏Î†åÎî© ÏàòÏßë ÏôÑÎ£å:', result.data);
                    
                    // ÏÑ±Í≥µ Î©îÏãúÏßÄÏôÄ Í≤∞Í≥º ÌëúÏãú
                    const stats = result.data.results[0];
                    const successMessage = `
‚úÖ Ìä∏Î†åÎî© ÏàòÏßë ÏôÑÎ£å!

üìä ÏàòÏßë Í≤∞Í≥º:
- Ï¥ù ÏòÅÏÉÅ: ${stats.totalVideos}Í∞ú
- Ìä∏Î†åÎî© ÏòÅÏÉÅ: ${stats.trendingVideos}Í∞ú
- Ìä∏Î†åÎî© ÎπÑÏú®: ${stats.trendingRate}%
- ÏÇ¨Ïö©Îêú Ìï†ÎãπÎüâ: ${stats.quotaUsed}

üí° Ìä∏Î†åÎî© ÌÉ≠ÏóêÏÑú Ïã§Ï†ú ÏòÅÏÉÅÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî!
                    `.trim();
                    
                    alert(successMessage);
                    
                    // Ìä∏Î†åÎî© ÌÉ≠ÏúºÎ°ú ÏûêÎèô Ïù¥ÎèôÌïòÍ≥† Ïã§Ï†ú ÏòÅÏÉÅ ÌëúÏãú
                    showTab('videos');
                    setTimeout(() => showVideoTab('trending'), 100);
                    
                } else {
                    throw new Error(result?.message || 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò Î∞úÏÉù');
                }
                
            } catch (error) {
                console.error('Ìä∏Î†åÎî© ÏàòÏßë Ïã§Ìå®:', error);
                UI.showError(`Ìä∏Î†åÎî© ÏàòÏßë Ïã§Ìå®: ${error.message}`);
            }
        }

        // Ïã§Ï†ú YouTube Ï±ÑÎÑê IDÎì§Î°ú ÏóÖÎç∞Ïù¥Ìä∏ (ÏòàÏãú)
        const SAMPLE_CHANNELS = {
            'UCXuqSBlHAE6Xw-yeJA0Tunw': 'Linus Tech Tips',
            'UCsBjURrPoezykLs9EqgamOA': 'Fireship',
            'UC8butISFwT-Wl7EV0hUK0BQ': 'freeCodeCamp',
            'UCJbPGzawDH1njbqV-D5HqKw': 'BroCode'
        };

        function showChannelTab(category) {
            document.querySelectorAll('.content-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            // Ïã§Ï†úÎ°úÎäî Ïó¨Í∏∞ÏÑú API Ìò∏Ï∂úÌïòÏó¨ Ï±ÑÎÑê ÌïÑÌÑ∞ÎßÅ
            console.log('Ï±ÑÎÑê ÌÉ≠ Î≥ÄÍ≤Ω:', category);
        }

        function searchVideos() {
            const keyword = document.getElementById('searchInput').value;
            const category = document.getElementById('categoryFilter').value;
            const platform = document.getElementById('platformFilter').value;
            
            console.log('Í≤ÄÏÉâ:', { keyword, category, platform });
            // Ïã§Ï†úÎ°úÎäî Ïó¨Í∏∞ÏÑú API Ìò∏Ï∂úÌïòÏó¨ Í≤ÄÏÉâ Í≤∞Í≥º ÌëúÏãú
            alert(`Í≤ÄÏÉâ Ïã§Ìñâ!\nÌÇ§ÏõåÎìú: ${keyword}\nÏπ¥ÌÖåÍ≥†Î¶¨: ${category}\nÌîåÎû´Ìèº: ${platform}`);
        }

        // Îç∞Î™®Ïö© ÏÉÅÌò∏ÏûëÏö©
        document.querySelectorAll('.action-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                if (this.textContent.includes('ÏõêÎ≥∏ Î≥¥Í∏∞')) {
                    alert('ÏõêÎ≥∏ ÏòÅÏÉÅ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§!');
                } else if (this.textContent.includes('Ï±ÑÎÑê ÌÉêÏÉâ')) {
                    alert('Ï±ÑÎÑêÏùò ÏµúÍ∑º Ïù∏Í∏∞ ÏòÅÏÉÅÎì§ÏùÑ Î∂ÑÏÑùÌï©ÎãàÎã§!');
                } else if (this.textContent.includes('ÏàòÏßë ÏòÅÏÉÅ Î≥¥Í∏∞')) {
                    alert('Ïù¥ Ï±ÑÎÑêÏóêÏÑú ÏàòÏßëÎêú Î™®Îì† ÏòÅÏÉÅÎì§ÏùÑ ÌëúÏãúÌï©ÎãàÎã§!');
                } else if (this.textContent.includes('ÏµúÏã† Ìä∏Î†åÎìú ÌôïÏù∏')) {
                    alert('Ïù¥ Ï±ÑÎÑêÏùò ÏµúÍ∑º 1Ï£ºÏùº Ïù∏Í∏∞ ÏòÅÏÉÅÏùÑ Î∂ÑÏÑùÌï©ÎãàÎã§!');
                }
            });
        });

        // Í≤ÄÏÉâ ÏûÖÎ†• Ïãú ÏóîÌÑ∞ÌÇ§ ÏßÄÏõê
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchVideos();
            }
        });
    </script>
</body>
</html>